<?xml version="1.0" encoding="UTF-8"?>
<RuleList messageAPIVersion="M060100" applicationVersion="601001.6.0.20211102082900_f0rapt61" rulesCatalogVersion="4.4.20181016" ruleExportVersion="3.0"><Rule ruleId="60101" baseRuleId="60101" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Daily Transaction Count - Merchant - 31 days]]></name><code><![CDATA[/* Array to store volume of transactions for the merchant for 31 days(including current day)*/

%DeclareArray(&rule.daily_num_array, _M_DAILY_NUMBER_1 - _M_DAILY_NUMBER_31);

/*if _u_ind_002 = 'A' /*Approved*/
/*then do;*/

%ShiftHistoryArray(&rule.daily_num_array,_M_DAILY_NUMBER_DT,dhms(1,0,0,0),&rule.i);

if &rule.i > 0
then %set(&rule.daily_num_array,&rule.i) = %get(&rule.daily_num_array,&rule.i) + 1;

/*end;*/]]></code><desc><![CDATA[Store a count of the number of transactions at a merchant daily for 31 days (including current day)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_number_1" FieldName="v01_num_00000_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_2" FieldName="v01_num_00008_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_3" FieldName="v01_num_00016_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_4" FieldName="v01_num_00024_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_5" FieldName="v01_num_00032_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_6" FieldName="v01_num_00040_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_7" FieldName="v01_num_00048_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_8" FieldName="v01_num_00056_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_9" FieldName="v01_num_00064_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_10" FieldName="v01_num_00072_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_11" FieldName="v01_num_00080_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_12" FieldName="v01_num_00088_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_13" FieldName="v01_num_00096_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_14" FieldName="v01_num_00104_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_15" FieldName="v01_num_00112_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_16" FieldName="v01_num_00120_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_17" FieldName="v01_num_00128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_18" FieldName="v01_num_00136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_19" FieldName="v01_num_00144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_20" FieldName="v01_num_00152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_21" FieldName="v01_num_00160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_22" FieldName="v01_num_00168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_23" FieldName="v01_num_00176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_24" FieldName="v01_num_00184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_25" FieldName="v01_num_00192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_26" FieldName="v01_num_00200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_27" FieldName="v01_num_00208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_28" FieldName="v01_num_00216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_29" FieldName="v01_num_00224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_30" FieldName="v01_num_00232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_31" FieldName="v01_num_00240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_dt" FieldName="v01_num_00248_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60102" baseRuleId="60102" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Card Usage]]></name><code><![CDATA[/* Array to store volume of transactions for last 5 minutes for a card (including current minute)*/
%DeclareArray(&rule.all_txn_vol, _H_ALL_TXN_VOL_1 - _H_ALL_TXN_VOL_5);

/*if _u_ind_002 = 'A' /*Approved*/
/*then do;*/

%ShiftHistoryArray(&rule.all_txn_vol,_H_ALL_TXN_VOL_DT, hms(0,1,0),&rule.i);

if &rule.i > 0
then %set(&rule.all_txn_vol,&rule.i) = %get(&rule.all_txn_vol,&rule.i) + 1;

/*end*/

/* Array to store volume of purchase authorisations for last 5 minutes for a card (including current minute)*/

%DeclareArray(&rule.PURCHASE_txn_vol, _H_PURCHASE_VOL_1 - _H_PURCHASE_VOL_5);

if TCM_REVERSAL_IND = 'N'
/*and _u_ind_002 = 'A' /*Approved*/
then do;
%ShiftHistoryArray(&rule.PURCHASE_txn_vol,_H_PURCHASE_VOL_DT,hms(0,1,0),&rule.j);

if &rule.j > 0
then %set(&rule.PURCHASE_txn_vol,&rule.i) = %get(&rule.PURCHASE_txn_vol,&rule.i) + 1;

end;]]></code><desc><![CDATA[Store the volume of transactions and the volume of purchase authorisations occurring on a card every minute for 5 minutes.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_h_purchase_vol_2" FieldName="v07_num_00072_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_purchase_vol_3" FieldName="v07_num_00080_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_purchase_vol_4" FieldName="v07_num_00088_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_purchase_vol_5" FieldName="v07_num_00000_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_all_txn_vol_dt" FieldName="v07_num_00008_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_purchase_vol_dt" FieldName="v07_num_00016_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_all_txn_vol_1" FieldName="v07_num_00024_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_all_txn_vol_2" FieldName="v07_num_00032_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_all_txn_vol_3" FieldName="v07_num_00040_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_all_txn_vol_4" FieldName="v07_num_00048_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_all_txn_vol_5" FieldName="v07_num_00056_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_purchase_vol_1" FieldName="v07_num_00064_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60103" baseRuleId="60103" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Daily Purchase Amount - Merchant - 31 days]]></name><code><![CDATA[/* Array to store amount of purchase authorisations for the merchant for 31 days(including current day)*/

%DeclareArray(&rule.daily_amt_array,_M_DAILY_PURCH_AMT_1 - _M_DAILY_PURCH_AMT_31);

if tcm_reversal_ind ='N'
/*and _u_ind_002 = 'A' /*Approved*/
then do;

%ShiftHistoryArray(&rule.daily_amt_array,_M_DAILY_PURCH_AMT_DT,dhms(1,0,0,0),&rule.i);

if &rule.i > 0 then
%set(&rule.daily_amt_array,&rule.i) = %get(&rule.daily_amt_array,&rule.i) + TCM_MER_AMT ;

end;]]></code><desc><![CDATA[ Store the total amount of the purchase authorisations at a merchant daily for 31 days (including current day)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_purch_amt_1" FieldName="v01_num_00256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_2" FieldName="v01_num_00264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_3" FieldName="v01_num_00272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_4" FieldName="v01_num_00280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_5" FieldName="v01_num_00288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_6" FieldName="v01_num_00296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_7" FieldName="v01_num_00304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_8" FieldName="v01_num_00312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_9" FieldName="v01_num_00320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_10" FieldName="v01_num_00328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_11" FieldName="v01_num_00336_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_12" FieldName="v01_num_00344_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_13" FieldName="v01_num_00352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_14" FieldName="v01_num_00360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_15" FieldName="v01_num_00368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_16" FieldName="v01_num_00376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_17" FieldName="v01_num_00384_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_18" FieldName="v01_num_00392_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_19" FieldName="v01_num_00400_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_20" FieldName="v01_num_00408_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_21" FieldName="v01_num_00416_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_22" FieldName="v01_num_00424_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_23" FieldName="v01_num_00432_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_24" FieldName="v01_num_00440_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_25" FieldName="v01_num_00448_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_26" FieldName="v01_num_00456_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_27" FieldName="v01_num_00464_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_28" FieldName="v01_num_00472_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_29" FieldName="v01_num_00480_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_30" FieldName="v01_num_00488_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_31" FieldName="v01_num_00496_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_dt" FieldName="v01_num_00504_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60104" baseRuleId="60104" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Monthly Purchase Amount - Merchant - 7mths]]></name><code><![CDATA[/* Array to store amount of purchase authorisations for last 7 months ( including current month)*/
%DeclareArray(&rule.monthly_amt_array, _M_MONTHLY_PURCH_AMT_1 - _M_MONTHLY_PURCH_AMT_7);

if tcm_reversal_ind = 'N'
/*and _u_ind_002 = 'A' /*Approved*/
then do;
%ShiftHistoryArray(&rule.monthly_amt_array,_M_MONTHLY_PURCH_AMT_DT,dhms(30,0,0,0),&rule.i);

if &rule.i > 0
then
%set(&rule.monthly_amt_array,&rule.i) = %get(&rule.monthly_amt_array,&rule.i) + TCM_MER_AMT;

end;]]></code><desc><![CDATA[Store the total amount of purchase authorisations at a merchant monthly for 7 months (including current month)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_monthly_purch_amt_2" FieldName="v01_num_00512_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_amt_3" FieldName="v01_num_00520_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_amt_1" FieldName="v01_num_00528_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_amt_4" FieldName="v01_num_00536_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_amt_5" FieldName="v01_num_00544_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_amt_6" FieldName="v01_num_00552_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_amt_7" FieldName="v01_num_00560_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_amt_dt" FieldName="v01_num_00568_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60105" baseRuleId="60105" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Monthly Posting Amount - Merchant - 7mths]]></name><code><![CDATA[/* Array to store value of postings for the merchant for last 7 months(including current month)*/
%DeclareArray(&rule.monthly_post_amt, _M_MONTHLY_POST_AMT_1 - _M_MONTHLY_POST_AMT_7);

%ShiftHistoryArray(&rule.monthly_post_amt,_M_MONTHLY_POST_AMT_DT,dhms(30,0,0,0),&rule.i);

if &rule.i > 0
then
%set(&rule.monthly_post_amt,&rule.i) = %get(&rule.monthly_post_amt,&rule.i) + TCP_BILLING_AMT;]]></code><desc><![CDATA[ Store the total amount of postings for a merchant monthly for 7 months (including current month)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="B"/><component componentField="smh_cust_type" componentValue="I"/><component componentField="smh_acct_type" componentValue="CS"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="C"/><component componentField="smh_channel_type" componentValue="D"/><component componentField="smh_channel_type" componentValue="E"/><component componentField="smh_activity_type" componentValue="CP"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DPD"/><component componentField="smh_activity_detail1" componentValue="DUA"/><VariableList><Variable FieldBusinessName="_m_monthly_post_amt_6" FieldName="v01_num_00616_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_amt_7" FieldName="v01_num_00624_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_amt_dt" FieldName="v01_num_00632_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_amt_1" FieldName="v01_num_00576_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_amt_2" FieldName="v01_num_00584_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_amt_3" FieldName="v01_num_00592_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_amt_4" FieldName="v01_num_00600_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_amt_5" FieldName="v01_num_00608_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60106" baseRuleId="60106" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Daily Keyed Purchase Count]]></name><code><![CDATA[if ucm_pos in ('01','79')
and tcm_reversal_ind = 'N'
/* and _u_ind_002  = 'A' /*Approved*/
then do ;
  if rqo_tran_date = _M_KEYED_DT
  then %set(_M_KEYED_COUNT) = _M_KEYED_COUNT +1;
  else do;
      %set(_m_keyed_count) = 1;
      %set(_m_keyed_dt) = rqo_tran_date;
  end;
 end;]]></code><desc><![CDATA[ Store a daily count of keyed purchase authorisations for a merchant]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_keyed_count" FieldName="v01_num_00640_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_keyed_dt" FieldName="v01_num_00648_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60107" baseRuleId="60107" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[ Purchase Count - Merchant - 5 mins]]></name><code><![CDATA[/* Array to store volume of purchase authorisations for last 5 minutes (including current minute)*/
%DeclareArray(&rule.txn_min_vol, _M_PURCH_VOL_MIN_1 - _M_PURCH_VOL_MIN_5);

if tcm_reversal_ind = 'N'
/*and _u_ind_002 = 'A' /*Approved*/
then do;
%ShiftHistoryArray(&rule.txn_min_vol,_M_PURCH_VOL_MIN_DT, hms(0,1,0),&rule.i);

if &rule.i > 0
then %set(&rule.txn_min_vol,&rule.i) = %get(&rule.txn_min_vol,&rule.i) + 1;

end;]]></code><desc><![CDATA[ Store the total volume of the purchase authorisations at a merchant every minute for 5 mins]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_purch_vol_min_2" FieldName="v01_num_00656_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_vol_min_3" FieldName="v01_num_00664_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_vol_min_4" FieldName="v01_num_00672_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_vol_min_5" FieldName="v01_num_00680_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_vol_min_dt" FieldName="v01_num_00688_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_vol_min_1" FieldName="v01_num_00696_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60108" baseRuleId="60108" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Purchase Amount - Merchant - 5 mins]]></name><code><![CDATA[/* Array to store amount of purchase authorisations for last 5 minutes (including current minute)*/
%DeclareArray(&rule.txn_min_AMT, _M_PURCH_AMT_MIN_1 - _M_PURCH_AMT_MIN_5);

if tcm_reversal_ind = 'N'
/*and _u_ind_002 = 'A' /*Approved*/
then do;
%ShiftHistoryArray(&rule.txn_min_AMT,_M_PURCH_AMT_MIN_DT, hms(0,1,0),&rule.i);

if &rule.i > 0
then %set(&rule.txn_min_AMT,&rule.i) = %get(&rule.txn_min_AMT,&rule.i) + TCM_MER_AMT;

end;]]></code><desc><![CDATA[ Store the total amount of the purchase authorisations at a merchant every minute for 5 mins]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_purch_amt_min_4" FieldName="v01_num_00744_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_amt_min_5" FieldName="v01_num_00704_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_amt_min_1" FieldName="v01_num_00712_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_amt_min_dt" FieldName="v01_num_00720_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_amt_min_2" FieldName="v01_num_00728_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_amt_min_3" FieldName="v01_num_00736_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60109" baseRuleId="60109" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Weekly Purchase Count - Merchant - 13 weeks]]></name><code><![CDATA[/* Array to store volume of purchase authorisations for last 13 weeks ( including current WEEK)*/
%DeclareArray(&rule.txn_week_vol, _M_WEEK_PURCH_VOL_1 - _M_WEEK_PURCH_VOL_13);

if tcm_reversal_ind ='N'
/*and _u_ind_002 = 'A' /*Approved*/
then do;

%ShiftHistoryArray(&rule.txn_week_vol,_M_WEEK_PURCH_VOL_DT, dhms(7,0,0,0),&rule.i);

if &rule.i > 0
then %set(&rule.txn_week_vol,&rule.i) = %get(&rule.txn_week_vol,&rule.i) + 1;
end;]]></code><desc><![CDATA[ Store the total volume of the purchase authorisations at a merchant weekly for 13 weeks (including current week)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_week_purch_vol_8" FieldName="v01_num_00752_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_9" FieldName="v01_num_00760_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_1" FieldName="v01_num_00768_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_10" FieldName="v01_num_00776_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_11" FieldName="v01_num_00784_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_12" FieldName="v01_num_00792_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_13" FieldName="v01_num_00800_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_dt" FieldName="v01_num_00808_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_2" FieldName="v01_num_00816_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_3" FieldName="v01_num_00824_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_4" FieldName="v01_num_00832_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_5" FieldName="v01_num_00840_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_6" FieldName="v01_num_00848_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_7" FieldName="v01_num_00856_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60110" baseRuleId="60110" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Daily Transaction Count - Terminal - 31 days]]></name><code><![CDATA[/* Array to store volume of transactions for the terminal for 31 days(including current day)*/

%DeclareArray(&rule.daily_num_array, _t_DAILY_NUMBER_1 - _t_DAILY_NUMBER_31);

/*if _u_ind_002 = 'A' /*Approved*/
/*then do;*/

%ShiftHistoryArray(&rule.daily_num_array,_t_DAILY_NUMBER_DT,dhms(1,0,0,0),&rule.i);

if &rule.i > 0
then %set(&rule.daily_num_array,&rule.i) = %get(&rule.daily_num_array,&rule.i) + 1;

/*end;*/]]></code><desc><![CDATA[Store a count of the number of transactions at a terminal daily for 31 days (including current day)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_t_daily_number_13" FieldName="v06_num_00000_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_14" FieldName="v06_num_00008_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_15" FieldName="v06_num_00016_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_16" FieldName="v06_num_00024_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_17" FieldName="v06_num_00032_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_18" FieldName="v06_num_00040_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_19" FieldName="v06_num_00048_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_20" FieldName="v06_num_00056_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_21" FieldName="v06_num_00064_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_22" FieldName="v06_num_00072_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_23" FieldName="v06_num_00080_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_24" FieldName="v06_num_00088_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_25" FieldName="v06_num_00096_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_26" FieldName="v06_num_00104_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_27" FieldName="v06_num_00112_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_28" FieldName="v06_num_00120_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_29" FieldName="v06_num_00128_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_30" FieldName="v06_num_00136_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_31" FieldName="v06_num_00144_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_1" FieldName="v06_num_00152_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_2" FieldName="v06_num_00160_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_3" FieldName="v06_num_00168_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_4" FieldName="v06_num_00176_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_5" FieldName="v06_num_00184_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_6" FieldName="v06_num_00192_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_7" FieldName="v06_num_00200_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_8" FieldName="v06_num_00208_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_9" FieldName="v06_num_00216_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_10" FieldName="v06_num_00224_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_11" FieldName="v06_num_00232_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_12" FieldName="v06_num_00240_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_daily_number_dt" FieldName="v06_num_00248_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60111" baseRuleId="60111" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Weekly Purchase Amount - Merchant - 13 weeks]]></name><code><![CDATA[/* Array to store the value of purchase authorisations for the merchant for 13 weeks(including current week)*/

%DeclareArray(&rule.week_amt_array,_M_WEEK_PURCH_AMT_1 - _M_WEEK_PURCH_AMT_13);

if tcm_reversal_ind ='N'
/*and _u_ind_002 = 'A' /*Approved*/
then do;

%ShiftHistoryArray(&rule.week_amt_array,_M_WEEK_PURCH_AMT_DT,dhms(1,0,0,0),&rule.i);

if &rule.i > 0
then
%set(&rule.week_amt_array,&rule.i) = %get(&rule.week_amt_array,&rule.i) + TCM_MER_AMT ;

end;]]></code><desc><![CDATA[Store the total amount of the purchase authorisations at a merchant weekly for 13 weeks (including current week)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_week_purch_amt_13" FieldName="v01_num_00864_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_dt" FieldName="v01_num_00872_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_1" FieldName="v01_num_00880_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_2" FieldName="v01_num_00888_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_3" FieldName="v01_num_00896_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_4" FieldName="v01_num_00904_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_5" FieldName="v01_num_00912_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_6" FieldName="v01_num_00920_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_7" FieldName="v01_num_00928_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_8" FieldName="v01_num_00936_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_9" FieldName="v01_num_00944_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_10" FieldName="v01_num_00952_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_11" FieldName="v01_num_00960_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_12" FieldName="v01_num_00968_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60112" baseRuleId="60112" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Daily Refund Count - Merchant - 31 days]]></name><code><![CDATA[/* Array to store volume of refunds for the merchant for 31 days (including current day)*/

%DeclareArray(&rule.daily_num_array, _M_DAILY_REFUND_VOL_1 - _M_DAILY_REFUND_VOL_31);

if tcm_reversal_ind = 'F' /*refund*/
then do ;

%ShiftHistoryArray(&rule.daily_num_array,_M_DAILY_REFUND_VOL_DT,dhms(1,0,0,0),&rule.i);

if &rule.i > 0
then %set(&rule.daily_num_array,&rule.i) = %get(&rule.daily_num_array,&rule.i) + 1;

end;]]></code><desc><![CDATA[Store the total volume of refunds at a merchant daily for 31 days (including current day)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_refund_vol_21" FieldName="v01_num_01000_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_22" FieldName="v01_num_01008_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_23" FieldName="v01_num_01016_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_24" FieldName="v01_num_01024_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_25" FieldName="v01_num_01032_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_26" FieldName="v01_num_01040_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_27" FieldName="v01_num_01048_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_28" FieldName="v01_num_01056_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_29" FieldName="v01_num_01064_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_30" FieldName="v01_num_01072_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_31" FieldName="v01_num_01080_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_dt" FieldName="v01_num_01088_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_1" FieldName="v01_num_01096_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_2" FieldName="v01_num_01104_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_3" FieldName="v01_num_01112_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_4" FieldName="v01_num_01120_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_5" FieldName="v01_num_01128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_6" FieldName="v01_num_01136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_7" FieldName="v01_num_01144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_8" FieldName="v01_num_01152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_9" FieldName="v01_num_01160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_10" FieldName="v01_num_01168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_11" FieldName="v01_num_01176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_12" FieldName="v01_num_01184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_13" FieldName="v01_num_01192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_14" FieldName="v01_num_01200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_15" FieldName="v01_num_01208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_16" FieldName="v01_num_01216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_17" FieldName="v01_num_01224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_18" FieldName="v01_num_00976_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_19" FieldName="v01_num_00984_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_20" FieldName="v01_num_00992_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60113" baseRuleId="60113" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Daily Refund Amount - Merchant - 31 days]]></name><code><![CDATA[/* Array to store value of refunds for the merchant for 31 days (including current day)*/

%DeclareArray(&rule.daily_amt_array, _M_DAILY_REFUND_AMT_1 - _M_DAILY_REFUND_AMT_31);

if tcm_reversal_ind = 'F' /*refund*/
then do ;

%ShiftHistoryArray(&rule.daily_amt_array,_M_DAILY_REFUND_AMT_DT,dhms(1,0,0,0),&rule.i);

if &rule.i > 0
then %set(&rule.daily_amt_array,&rule.i) = %get(&rule.daily_amt_array,&rule.i) + TCM_MER_AMT;

end;]]></code><desc><![CDATA[Store the total amount of refunds at a merchant daily for 31 days (including current day)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_refund_amt_7" FieldName="v01_num_01232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_8" FieldName="v01_num_01240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_9" FieldName="v01_num_01248_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_10" FieldName="v01_num_01256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_11" FieldName="v01_num_01264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_12" FieldName="v01_num_01272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_13" FieldName="v01_num_01280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_14" FieldName="v01_num_01288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_15" FieldName="v01_num_01296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_16" FieldName="v01_num_01304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_17" FieldName="v01_num_01312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_18" FieldName="v01_num_01320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_19" FieldName="v01_num_01328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_20" FieldName="v01_num_01336_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_21" FieldName="v01_num_01344_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_22" FieldName="v01_num_01352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_23" FieldName="v01_num_01360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_24" FieldName="v01_num_01368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_25" FieldName="v01_num_01376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_26" FieldName="v01_num_01384_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_27" FieldName="v01_num_01392_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_28" FieldName="v01_num_01400_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_29" FieldName="v01_num_01408_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_30" FieldName="v01_num_01416_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_31" FieldName="v01_num_01424_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_dt" FieldName="v01_num_01432_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_1" FieldName="v01_num_01440_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_2" FieldName="v01_num_01448_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_3" FieldName="v01_num_01456_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_4" FieldName="v01_num_01464_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_5" FieldName="v01_num_01472_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_6" FieldName="v01_num_01480_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60114" baseRuleId="60114" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Daily Reversal Count - Merchant - 31 days]]></name><code><![CDATA[/* Array to store volume of reversals for the merchant for 31 days(including current day)*/

%DeclareArray(&rule.daily_num_array, _M_DAILY_REV_VOL_1 - _M_DAILY_REV_VOL_31);

if tcm_reversal_ind = 'D' /*reversal*/
then do ;

%ShiftHistoryArray(&rule.daily_num_array,_M_DAILY_REV_VOL_DT,dhms(1,0,0,0),&rule.i);

if &rule.i > 0
then %set(&rule.daily_num_array,&rule.i) = %get(&rule.daily_num_array,&rule.i) + 1;

end;]]></code><desc><![CDATA[ Store the total volume of reversals at a merchant daily for 31 days (including current day)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_rev_vol_22" FieldName="v01_num_01512_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_23" FieldName="v01_num_01520_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_24" FieldName="v01_num_01528_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_25" FieldName="v01_num_01536_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_26" FieldName="v01_num_01544_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_27" FieldName="v01_num_01552_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_28" FieldName="v01_num_01560_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_29" FieldName="v01_num_01568_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_30" FieldName="v01_num_01576_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_31" FieldName="v01_num_01584_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_dt" FieldName="v01_num_01592_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_1" FieldName="v01_num_01600_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_2" FieldName="v01_num_01608_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_3" FieldName="v01_num_01616_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_4" FieldName="v01_num_01624_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_5" FieldName="v01_num_01632_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_6" FieldName="v01_num_01640_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_7" FieldName="v01_num_01648_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_8" FieldName="v01_num_01656_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_9" FieldName="v01_num_01664_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_10" FieldName="v01_num_01672_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_11" FieldName="v01_num_01680_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_12" FieldName="v01_num_01688_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_13" FieldName="v01_num_01696_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_14" FieldName="v01_num_01704_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_15" FieldName="v01_num_01712_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_16" FieldName="v01_num_01720_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_17" FieldName="v01_num_01728_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_18" FieldName="v01_num_01736_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_19" FieldName="v01_num_01488_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_20" FieldName="v01_num_01496_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_21" FieldName="v01_num_01504_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60115" baseRuleId="60115" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Daily Reversal Amount - Merchant - 31 days]]></name><code><![CDATA[/* Array to store value of Reversals for the merchant for 31 days(including current day)*/

%DeclareArray(&rule.daily_amt_array, _M_DAILY_REV_AMT_1 - _M_DAILY_REV_AMT_31);

if tcm_reversal_ind = 'D' /*reversal*/
then do ;

%ShiftHistoryArray(&rule.daily_amt_array,_M_DAILY_REV_AMT_DT,dhms(1,0,0,0),&rule.i);

if &rule.i > 0
then %set(&rule.daily_amt_array,&rule.i) = %get(&rule.daily_amt_array,&rule.i) + TCM_MER_AMT;

end;]]></code><desc><![CDATA[ Store the total amount of reversals at a merchant daily for 31 days (including current day)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_rev_amt_1" FieldName="v01_num_01744_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_2" FieldName="v01_num_01752_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_3" FieldName="v01_num_01760_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_4" FieldName="v01_num_01768_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_5" FieldName="v01_num_01776_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_6" FieldName="v01_num_01784_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_7" FieldName="v01_num_01792_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_8" FieldName="v01_num_01800_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_9" FieldName="v01_num_01808_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_10" FieldName="v01_num_01816_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_11" FieldName="v01_num_01824_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_12" FieldName="v01_num_01832_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_13" FieldName="v01_num_01840_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_14" FieldName="v01_num_01848_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_15" FieldName="v01_num_01856_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_16" FieldName="v01_num_01864_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_17" FieldName="v01_num_01872_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_18" FieldName="v01_num_01880_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_19" FieldName="v01_num_01888_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_20" FieldName="v01_num_01896_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_21" FieldName="v01_num_01904_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_22" FieldName="v01_num_01912_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_23" FieldName="v01_num_01920_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_24" FieldName="v01_num_01928_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_25" FieldName="v01_num_01936_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_26" FieldName="v01_num_01944_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_27" FieldName="v01_num_01952_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_28" FieldName="v01_num_01960_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_29" FieldName="v01_num_01968_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_30" FieldName="v01_num_01976_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_31" FieldName="v01_num_01984_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_dt" FieldName="v01_num_01992_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60116" baseRuleId="60116" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Monthly Refund Amount - Merchant - 7mths]]></name><code><![CDATA[/* Array to store the value of refunds for the merchant for 7 months  (including current month)*/

%DeclareArray(&rule.MONTHLY_amt_array, _M_MONTHLY_REFUND_AMT_1 - _M_MONTHLY_REFUND_AMT_7);

if tcm_reversal_ind = 'F' /*refunds*/
then do ;

%ShiftHistoryArray(&rule.MONTHLY_amt_array,_M_MONTHLY_REFUND_AMT_DT,dhms(30,0,0,0),&rule.i);

if &rule.i > 0
then %set(&rule.MONTHLY_amt_array,&rule.i) = %get(&rule.MONTHLY_amt_array,&rule.i) + TCM_MER_AMT;

end;]]></code><desc><![CDATA[Store the total amount of refunds at a merchant monthly for 7 months (including current month)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_monthly_refund_amt_7" FieldName="v01_num_02024_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_refund_amt_dt" FieldName="v01_num_02032_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_refund_amt_1" FieldName="v01_num_02040_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_refund_amt_2" FieldName="v01_num_02048_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_refund_amt_3" FieldName="v01_num_02056_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_refund_amt_4" FieldName="v01_num_02000_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_refund_amt_5" FieldName="v01_num_02008_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_refund_amt_6" FieldName="v01_num_02016_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60117" baseRuleId="60117" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Monthly Refund Count - Merchant - 7mths]]></name><code><![CDATA[/* Array to store volume of refunds for the merchant for 7 months  (including current month)*/

%DeclareArray(&rule.MONTHLY_vol_array, _M_MONTHLY_REFUND_VOL_1 - _M_MONTHLY_REFUND_VOL_7);

if tcm_reversal_ind = 'F' /*refund*/
then do ;

%ShiftHistoryArray(&rule.MONTHLY_vol_array,_M_MONTHLY_REFUND_VOL_DT,dhms(30,0,0,0),&rule.i);

if &rule.i > 0
then %set(&rule.MONTHLY_vol_array,&rule.i) = %get(&rule.MONTHLY_vol_array,&rule.i) + 1;

end;]]></code><desc><![CDATA[Store the total volume of refunds at a merchant monthly for 7 months (including current month)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_monthly_refund_vol_5" FieldName="v01_num_02064_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_refund_vol_6" FieldName="v01_num_02072_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_refund_vol_7" FieldName="v01_num_02080_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_refund_vol_dt" FieldName="v01_num_02088_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_refund_vol_1" FieldName="v01_num_02096_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_refund_vol_2" FieldName="v01_num_02104_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_refund_vol_3" FieldName="v01_num_02112_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_refund_vol_4" FieldName="v01_num_02120_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60118" baseRuleId="60118" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Creditmaster]]></name><code><![CDATA[if ucm_pos in ('00','01','81','8E','8F')
and ucm_card_present = '1' /*card not present*/
then do;

%DeclareArray(&rule.CM_Card,_t_CM_card_1 - _t_CM_card_5);
%DeclareArray(&rule.CM_amount,_t_CM_amount_1 - _t_CM_amount_5);
%DeclareArray(&rule.CM_Tran_Expiry,_t_CM_Tran_Expiry_1
                                        - _t_CM_Tran_Expiry_5);
%DeclareArray(&rule.CM_Date_Time,_t_CM_Date_Time_1 - _t_CM_Date_Time_5);

%ShiftHistoryArray(&rule.CM_Card);
%ShiftHistoryArray(&rule.CM_Amount);
%ShiftHistoryArray(&rule.CM_Tran_Expiry);
%ShiftHistoryArray(&rule.CM_Date_Time);

%Set(&rule.CM_Card,1) = hqm_payment_id;
%Set(&rule.CM_Amount,1) = tcm_mer_amt;
%Set(&rule.CM_Tran_Expiry,1) = ucm_msg_exp_date;
%Set(&rule.CM_Date_Time,1) = dhms(rqo_tran_date,0,0,rqo_tran_time);

end;]]></code><desc><![CDATA[Store Card Number, amount, message expiry date, and date and time of the last 5 CNP transactions]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_t_cm_card_1" FieldName="v06_str_00256_080" InitialValue="" FieldDesc="Variable in Terminal" FieldLength="80" VariableType="Character" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_card_2" FieldName="v06_str_00336_080" InitialValue="" FieldDesc="Variable in Terminal" FieldLength="80" VariableType="Character" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_card_3" FieldName="v06_str_00416_080" InitialValue="" FieldDesc="Variable in Terminal" FieldLength="80" VariableType="Character" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_card_4" FieldName="v06_str_00496_080" InitialValue="" FieldDesc="Variable in Terminal" FieldLength="80" VariableType="Character" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_card_5" FieldName="v06_str_00576_080" InitialValue="" FieldDesc="Variable in Terminal" FieldLength="80" VariableType="Character" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_amount_1" FieldName="v06_num_00656_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_amount_2" FieldName="v06_num_00664_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_amount_3" FieldName="v06_num_00672_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_amount_4" FieldName="v06_num_00680_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_amount_5" FieldName="v06_num_00688_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_date_time_1" FieldName="v06_num_00696_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_date_time_2" FieldName="v06_num_00704_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_date_time_3" FieldName="v06_num_00712_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_date_time_4" FieldName="v06_num_00720_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_date_time_5" FieldName="v06_num_00728_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_tran_expiry_1" FieldName="v06_num_00736_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Date" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_tran_expiry_2" FieldName="v06_num_00744_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Date" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_tran_expiry_3" FieldName="v06_num_00752_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Date" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_tran_expiry_4" FieldName="v06_num_00760_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Date" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_tran_expiry_5" FieldName="v06_num_00768_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Date" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60119" baseRuleId="60119" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Daily Purchase Count - Merchant - 31 days]]></name><code><![CDATA[/* Array to store volume of purchase authorisations for the merchant for 31 days(including current day)*/

%DeclareArray(&rule.daily_vol_array,_M_DAILY_PURCH_VOL_1 - _M_DAILY_PURCH_VOL_31);

if tcm_reversal_ind ='N'
/*and _u_ind_002 = 'A' /*Approved*/
then do;

%ShiftHistoryArray(&rule.daily_vol_array,_M_DAILY_PURCH_VOL_DT,dhms(1,0,0,0),&rule.i);
if &rule.i > 0 then
%set(&rule.daily_vol_array,&rule.i) = %get(&rule.daily_vol_array,&rule.i) +1 ;

end;]]></code><desc><![CDATA[Store the total volume of the purchase authorisations at a merchant daily for 31 days (including current day)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_purch_vol_5" FieldName="v01_num_02376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_6" FieldName="v01_num_02128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_7" FieldName="v01_num_02136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_8" FieldName="v01_num_02144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_9" FieldName="v01_num_02152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_10" FieldName="v01_num_02160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_11" FieldName="v01_num_02168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_12" FieldName="v01_num_02176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_13" FieldName="v01_num_02184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_14" FieldName="v01_num_02192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_15" FieldName="v01_num_02200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_16" FieldName="v01_num_02208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_17" FieldName="v01_num_02216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_18" FieldName="v01_num_02224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_19" FieldName="v01_num_02232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_20" FieldName="v01_num_02240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_21" FieldName="v01_num_02248_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_22" FieldName="v01_num_02256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_23" FieldName="v01_num_02264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_24" FieldName="v01_num_02272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_25" FieldName="v01_num_02280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_26" FieldName="v01_num_02288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_27" FieldName="v01_num_02296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_28" FieldName="v01_num_02304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_29" FieldName="v01_num_02312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_30" FieldName="v01_num_02320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_31" FieldName="v01_num_02328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_dt" FieldName="v01_num_02336_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_1" FieldName="v01_num_02344_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_2" FieldName="v01_num_02352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_3" FieldName="v01_num_02360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_4" FieldName="v01_num_02368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60120" baseRuleId="60120" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Monthly Reversal Amount - Merchant - 7mths]]></name><code><![CDATA[/* Array to store value of reversals for the merchant for 7 months  (including current month)*/

%DeclareArray(&rule.MONTHLY_amt_array, _M_MONTHLY_REV_AMT_1 - _M_MONTHLY_REV_AMT_7);

if tcm_reversal_ind = 'D' /*reversal*/
then do ;

%ShiftHistoryArray(&rule.MONTHLY_amt_array,_M_MONTHLY_REV_AMT_DT,dhms(30,0,0,0),&rule.i);

if &rule.i > 0
then %set(&rule.MONTHLY_amt_array,&rule.i) = %get(&rule.MONTHLY_amt_array,&rule.i) + TCM_MER_AMT;

end;]]></code><desc><![CDATA[Store the total amount of reversals at a merchant monthly for 7 months (including current month)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_monthly_rev_amt_dt" FieldName="v01_num_02384_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_rev_amt_1" FieldName="v01_num_02392_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_rev_amt_2" FieldName="v01_num_02400_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_rev_amt_3" FieldName="v01_num_02408_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_rev_amt_4" FieldName="v01_num_02416_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_rev_amt_5" FieldName="v01_num_02424_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_rev_amt_6" FieldName="v01_num_02432_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_rev_amt_7" FieldName="v01_num_02440_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60121" baseRuleId="60121" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Monthly Reversal Count - Merchant - 7mths]]></name><code><![CDATA[/* Array to store the volume of Reversals for the merchant for 7 months  (including current month)*/

%DeclareArray(&rule.MONTHLY_vol_array, _M_MONTHLY_REV_VOL_1 - _M_MONTHLY_REV_VOL_7);

if tcm_reversal_ind = 'D' /*reversal*/
then do ;

%ShiftHistoryArray(&rule.MONTHLY_vol_array,_M_MONTHLY_REV_VOL_DT,dhms(30,0,0,0),&rule.i);

if &rule.i > 0
then %set(&rule.MONTHLY_vol_array,&rule.i) = %get(&rule.MONTHLY_vol_array,&rule.i) + 1;

end;]]></code><desc><![CDATA[Store the total volume of reversals at a merchant monthly for 7 months (including current month)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_monthly_rev_vol_7" FieldName="v01_num_02504_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_rev_vol_dt" FieldName="v01_num_02448_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_rev_vol_1" FieldName="v01_num_02456_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_rev_vol_2" FieldName="v01_num_02464_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_rev_vol_3" FieldName="v01_num_02472_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_rev_vol_4" FieldName="v01_num_02480_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_rev_vol_5" FieldName="v01_num_02488_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_rev_vol_6" FieldName="v01_num_02496_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60122" baseRuleId="60122" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Daily Credit Voucher Amount - Merchant - 31 days]]></name><code><![CDATA[/* Array to store value of credit vouchers from the merchant for 31 days (including current day)*/
%DeclareArray(&rule.daily_amt_array, _M_DAILY_CV_AMT_1 - _M_DAILY_CV_AMT_31);

if tcm_reversal_ind = 'C' /*credit voucher*/
then do ;

%ShiftHistoryArray(&rule.daily_amt_array,_M_DAILY_CV_AMT_DT,dhms(1,0,0,0),&rule.i);

if &rule.i > 0
then %set(&rule.daily_amt_array,&rule.i) = %get(&rule.daily_amt_array,&rule.i) + TCM_MER_AMT;

end;]]></code><desc><![CDATA[Store the total amount of credit vouchers from the merchant daily for 31 days (including current day)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_cv_amt_17" FieldName="v01_num_02512_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_18" FieldName="v01_num_02520_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_19" FieldName="v01_num_02528_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_20" FieldName="v01_num_02536_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_21" FieldName="v01_num_02544_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_22" FieldName="v01_num_02552_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_23" FieldName="v01_num_02560_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_24" FieldName="v01_num_02568_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_25" FieldName="v01_num_02576_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_26" FieldName="v01_num_02584_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_27" FieldName="v01_num_02592_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_28" FieldName="v01_num_02600_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_29" FieldName="v01_num_02608_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_30" FieldName="v01_num_02616_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_31" FieldName="v01_num_02624_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_dt" FieldName="v01_num_02632_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_1" FieldName="v01_num_02640_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_2" FieldName="v01_num_02648_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_3" FieldName="v01_num_02656_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_4" FieldName="v01_num_02664_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_5" FieldName="v01_num_02672_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_6" FieldName="v01_num_02680_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_7" FieldName="v01_num_02688_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_8" FieldName="v01_num_02696_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_9" FieldName="v01_num_02704_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_10" FieldName="v01_num_02712_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_11" FieldName="v01_num_02720_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_12" FieldName="v01_num_02728_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_13" FieldName="v01_num_02736_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_14" FieldName="v01_num_02744_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_15" FieldName="v01_num_02752_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_16" FieldName="v01_num_02760_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60123" baseRuleId="60123" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Monthly Credit Voucher Amount - Merchant - 7mths]]></name><code><![CDATA[/* Array to store value of credit vouchers from the merchant for 7 months(including current month)*/

%DeclareArray(&rule.MONTHLY_amt_array, _M_MONTHLY_CV_AMT_1 - _M_MONTHLY_CV_AMT_7);

if tcm_reversal_ind = 'C' /*credit vouchers*/
then do ;

%ShiftHistoryArray(&rule.MONTHLY_amt_array,_M_MONTHLY_CV_AMT_DT,dhms(30,0,0,0),&rule.i);

if &rule.i > 0
then %set(&rule.MONTHLY_amt_array,&rule.i) = %get(&rule.MONTHLY_amt_array,&rule.i) + TCM_MER_AMT;

end;]]></code><desc><![CDATA[Store the total amount of credit vouchers at a merchant monthly for 7 months (including current month)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_monthly_cv_amt_1" FieldName="v01_num_02768_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_amt_2" FieldName="v01_num_02776_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_amt_3" FieldName="v01_num_02784_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_amt_4" FieldName="v01_num_02792_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_amt_5" FieldName="v01_num_02800_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_amt_6" FieldName="v01_num_02808_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_amt_7" FieldName="v01_num_02816_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_amt_dt" FieldName="v01_num_02824_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60124" baseRuleId="60124" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Daily Credit Voucher Count - Merchant - 31 days]]></name><code><![CDATA[/* Array store volume of credit vouchers from the merchant for 31 days (including current day)*/
%DeclareArray(&rule.daily_vol_array, _M_DAILY_CV_VOL_1 - _M_DAILY_CV_VOL_31);

if tcm_reversal_ind = 'C' /*credit voucher*/
then do ;

%ShiftHistoryArray(&rule.daily_vol_array,_M_DAILY_CV_VOL_DT,dhms(1,0,0,0),&rule.i);

if &rule.i > 0
then %set(&rule.daily_vol_array,&rule.i) = %get(&rule.daily_vol_array,&rule.i) + 1;

end;]]></code><desc><![CDATA[Store the total volume of credit vouchers from the merchant daily for 31 days (including current day)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_cv_vol_15" FieldName="v01_num_02888_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_16" FieldName="v01_num_02896_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_17" FieldName="v01_num_02904_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_18" FieldName="v01_num_02912_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_19" FieldName="v01_num_02920_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_20" FieldName="v01_num_02928_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_21" FieldName="v01_num_02936_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_22" FieldName="v01_num_02944_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_23" FieldName="v01_num_02952_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_24" FieldName="v01_num_02960_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_25" FieldName="v01_num_02968_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_26" FieldName="v01_num_02976_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_27" FieldName="v01_num_02984_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_28" FieldName="v01_num_02992_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_29" FieldName="v01_num_03000_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_30" FieldName="v01_num_03008_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_31" FieldName="v01_num_03016_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_dt" FieldName="v01_num_03024_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_1" FieldName="v01_num_03032_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_2" FieldName="v01_num_03040_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_3" FieldName="v01_num_03048_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_4" FieldName="v01_num_03056_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_5" FieldName="v01_num_03064_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_6" FieldName="v01_num_03072_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_7" FieldName="v01_num_03080_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_8" FieldName="v01_num_02832_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_9" FieldName="v01_num_02840_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_10" FieldName="v01_num_02848_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_11" FieldName="v01_num_02856_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_12" FieldName="v01_num_02864_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_13" FieldName="v01_num_02872_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_14" FieldName="v01_num_02880_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60125" baseRuleId="60125" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Monthly Credit Voucher Count - Merchant - 7mths]]></name><code><![CDATA[/* Array to store  volume of credit vouchers from the merchant for 7 months  (including current month)*/

%DeclareArray(&rule.MONTHLY_vol_array, _M_MONTHLY_CV_VOL_1 - _M_MONTHLY_CV_VOL_7);

if tcm_reversal_ind = 'C' /*credit voucher*/
then do ;

%ShiftHistoryArray(&rule.MONTHLY_vol_array,_M_MONTHLY_CV_VOL_DT,dhms(30,0,0,0),&rule.i);

if &rule.i > 0
then %set(&rule.MONTHLY_vol_array,&rule.i) = %get(&rule.MONTHLY_vol_array,&rule.i) + 1;

end;]]></code><desc><![CDATA[Store the total volume of credit vouchers from the merchant monthly for 7 months (including current month)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_monthly_cv_vol_7" FieldName="v01_num_03144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_vol_dt" FieldName="v01_num_03088_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_vol_1" FieldName="v01_num_03096_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_vol_2" FieldName="v01_num_03104_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_vol_3" FieldName="v01_num_03112_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_vol_4" FieldName="v01_num_03120_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_vol_5" FieldName="v01_num_03128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_vol_6" FieldName="v01_num_03136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60126" baseRuleId="60126" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Daily Posting Amount - Merchant - 31 days]]></name><code><![CDATA[/* Array to store value of postings for the merchant for 31 days(including current day)*/
%DeclareArray(&rule.daily_amt_array,_M_DAILY_POST_AMT_1 - _M_DAILY_POST_AMT_31);

%ShiftHistoryArray(&rule.daily_amt_array,_M_DAILY_POST_AMT_DT,dhms(1,0,0,0),&rule.i);
if &rule.i > 0
then
%set(&rule.daily_amt_array,&rule.i) = %get(&rule.daily_amt_array,&rule.i) + TCP_BILLING_AMT ;]]></code><desc><![CDATA[Store the total amount of postings for merchant daily for 31 days (including current day)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="B"/><component componentField="smh_cust_type" componentValue="I"/><component componentField="smh_acct_type" componentValue="CS"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="C"/><component componentField="smh_channel_type" componentValue="D"/><component componentField="smh_channel_type" componentValue="E"/><component componentField="smh_activity_type" componentValue="CP"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DPD"/><component componentField="smh_activity_detail1" componentValue="DUA"/><VariableList><Variable FieldBusinessName="_m_daily_post_amt_30" FieldName="v01_num_03400_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_31" FieldName="v01_num_03152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_dt" FieldName="v01_num_03160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_1" FieldName="v01_num_03168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_2" FieldName="v01_num_03176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_3" FieldName="v01_num_03184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_4" FieldName="v01_num_03192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_5" FieldName="v01_num_03200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_6" FieldName="v01_num_03208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_7" FieldName="v01_num_03216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_8" FieldName="v01_num_03224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_9" FieldName="v01_num_03232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_10" FieldName="v01_num_03240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_11" FieldName="v01_num_03248_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_12" FieldName="v01_num_03256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_13" FieldName="v01_num_03264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_14" FieldName="v01_num_03272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_15" FieldName="v01_num_03280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_16" FieldName="v01_num_03288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_17" FieldName="v01_num_03296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_18" FieldName="v01_num_03304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_19" FieldName="v01_num_03312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_20" FieldName="v01_num_03320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_21" FieldName="v01_num_03328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_22" FieldName="v01_num_03336_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_23" FieldName="v01_num_03344_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_24" FieldName="v01_num_03352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_25" FieldName="v01_num_03360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_26" FieldName="v01_num_03368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_27" FieldName="v01_num_03376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_28" FieldName="v01_num_03384_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_29" FieldName="v01_num_03392_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60127" baseRuleId="60127" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Daily Posting Count - Merchant - 31 days]]></name><code><![CDATA[/* Array to store volume of postings for the merchant for 31 days(including current day)*/

%DeclareArray(&rule.daily_vol_array,_M_DAILY_POST_VOL_1 - _M_DAILY_POST_VOL_31);

%ShiftHistoryArray(&rule.daily_vol_array,_M_DAILY_POST_VOL_DT,dhms(1,0,0,0),&rule.i);
if &rule.i > 0
then
%set(&rule.daily_vol_array,&rule.i) = %get(&rule.daily_vol_array,&rule.i) + 1 ;]]></code><desc><![CDATA[Store the total volume of postings for the merchant daily for 31 days (including current day)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="B"/><component componentField="smh_cust_type" componentValue="I"/><component componentField="smh_acct_type" componentValue="CS"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="C"/><component componentField="smh_channel_type" componentValue="D"/><component componentField="smh_channel_type" componentValue="E"/><component componentField="smh_activity_type" componentValue="CP"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DPD"/><component componentField="smh_activity_detail1" componentValue="DUA"/><VariableList><Variable FieldBusinessName="_m_daily_post_vol_1" FieldName="v01_num_03408_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_2" FieldName="v01_num_03416_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_3" FieldName="v01_num_03424_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_4" FieldName="v01_num_03432_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_5" FieldName="v01_num_03440_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_6" FieldName="v01_num_03448_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_7" FieldName="v01_num_03456_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_8" FieldName="v01_num_03464_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_9" FieldName="v01_num_03472_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_10" FieldName="v01_num_03480_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_dt" FieldName="v01_num_03488_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_11" FieldName="v01_num_03496_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_12" FieldName="v01_num_03504_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_13" FieldName="v01_num_03512_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_14" FieldName="v01_num_03520_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_15" FieldName="v01_num_03528_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_16" FieldName="v01_num_03536_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_17" FieldName="v01_num_03544_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_18" FieldName="v01_num_03552_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_19" FieldName="v01_num_03560_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_20" FieldName="v01_num_03568_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_21" FieldName="v01_num_03576_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_22" FieldName="v01_num_03584_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_23" FieldName="v01_num_03592_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_24" FieldName="v01_num_03600_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_25" FieldName="v01_num_03608_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_26" FieldName="v01_num_03616_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_27" FieldName="v01_num_03624_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_28" FieldName="v01_num_03632_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_29" FieldName="v01_num_03640_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_30" FieldName="v01_num_03648_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_31" FieldName="v01_num_03656_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60128" baseRuleId="60128" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Monthly Posting Count - Merchant - 7mths]]></name><code><![CDATA[/* Array to store volume of postings for the merchant for last 7 months(including current month)*/
%DeclareArray(&rule.monthly_post_vol, _M_MONTHLY_POST_VOL_1 - _M_MONTHLY_POST_VOL_7);

%ShiftHistoryArray(&rule.monthly_post_vol,_M_MONTHLY_POST_VOL_DT,dhms(30,0,0,0),&rule.i);

if &rule.i > 0
then
%set(&rule.monthly_post_vol,&rule.i) = %get(&rule.monthly_post_vol,&rule.i) + 1;]]></code><desc><![CDATA[Store the total volume of postings for a merchant monthly for 7 months (including current month)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="B"/><component componentField="smh_cust_type" componentValue="I"/><component componentField="smh_acct_type" componentValue="CS"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="C"/><component componentField="smh_channel_type" componentValue="D"/><component componentField="smh_channel_type" componentValue="E"/><component componentField="smh_activity_type" componentValue="CP"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DPD"/><component componentField="smh_activity_detail1" componentValue="DUA"/><VariableList><Variable FieldBusinessName="_m_monthly_post_vol_1" FieldName="v01_num_03664_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_vol_2" FieldName="v01_num_03672_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_vol_3" FieldName="v01_num_03680_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_vol_4" FieldName="v01_num_03688_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_vol_dt" FieldName="v01_num_03696_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_vol_5" FieldName="v01_num_03704_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_vol_6" FieldName="v01_num_03712_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_vol_7" FieldName="v01_num_03720_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60129" baseRuleId="60129" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Cash Withdrawals - Volume - Card - 5 mins]]></name><code><![CDATA[/* Array store volume of cash withdrawals for a card for the last 5 minutes (including current minute)*/
%DeclareArray(&rule.withdrawal_vol, _H_CASH_VOL_1 - _H_CASH_VOL_5);

if aqm_mer_mcc = '6011'
and tcm_client_tran_type = 'CW' /*cash withdrawal*/
/*and _u_ind_002 = 'A' /*Approved*/
then do;
%ShiftHistoryArray(&rule.withdrawal_vol,_H_CASH_VOL_DT, hms(0,1,0),&rule.i);

if &rule.i > 0
then %set(&rule.withdrawal_vol,&rule.i) = %get(&rule.withdrawal_vol,&rule.i) + 1;

end;]]></code><desc><![CDATA[ Store a count of cash withdrawals made by a card every minute for 5 minutes.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_h_cash_vol_1" FieldName="v07_num_00096_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_vol_2" FieldName="v07_num_00104_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_vol_3" FieldName="v07_num_00112_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_vol_4" FieldName="v07_num_00120_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_vol_5" FieldName="v07_num_00128_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_vol_dt" FieldName="v07_num_00136_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60130" baseRuleId="60130" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Cash Withdrawals - Value - Card - 5 mins]]></name><code><![CDATA[/* Array store amount of cash withdrawals for a card for last 5 minutes (including current minute)*/
%DeclareArray(&rule.withdrawal_amt, _H_CASH_AMT_1 - _H_CASH_AMT_5);

if aqm_mer_mcc = '6011'
and tcm_client_tran_type = 'CW' /*cash withdrawal*/
/*and _u_ind_002 = 'A' /*Approved*/
then do;
%ShiftHistoryArray(&rule.withdrawal_amt,_H_CASH_AMT_DT, hms(0,1,0),&rule.i);

if &rule.i > 0
then %set(&rule.withdrawal_amt,&rule.i) = %get(&rule.withdrawal_amt,&rule.i) + TCM_MER_AMT;

end;]]></code><desc><![CDATA[Store the value of cash withdrawals made by a card every minute for 5 minutes.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_h_cash_amt_4" FieldName="v07_num_00152_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_amt_5" FieldName="v07_num_00160_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_amt_dt" FieldName="v07_num_00168_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_amt_1" FieldName="v07_num_00176_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_amt_2" FieldName="v07_num_00184_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_amt_3" FieldName="v07_num_00144_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60131" baseRuleId="60131" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Cash Withdrawals - Declines - Volume - Card - 5 mins]]></name><code><![CDATA[/* Array to store volume of all declined cash withdrawals for a card for the last 5 minutes ( including current minute)*/
%DeclareArray(&rule.withdrawal_vol, _H_CASH_DEC_VOL_1 - _H_CASH_DEC_VOL_5);

if aqm_mer_mcc = '6011'
and tcm_client_tran_type = 'CW' /*cash withdrawal*/
and _u_ind_002 = 'D' /*Declined*/
then do;
%ShiftHistoryArray(&rule.withdrawal_vol,_H_CASH_DEC_VOL_DT, hms(0,1,0),&rule.i);

if &rule.i > 0
then %set(&rule.withdrawal_vol,&rule.i) = %get(&rule.withdrawal_vol,&rule.i) + 1;

end;]]></code><desc><![CDATA[ Store a count of declined cash withdrawals on a card every minute for 5 minutes.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_h_cash_dec_vol_1" FieldName="v07_num_00192_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_dec_vol_2" FieldName="v07_num_00200_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_dec_vol_3" FieldName="v07_num_00208_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_dec_vol_4" FieldName="v07_num_00216_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_dec_vol_5" FieldName="v07_num_00224_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_dec_vol_dt" FieldName="v07_num_00232_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_u_ind_002" FieldName="rua_ind_002" InitialValue="" FieldDesc="Indicator/flag field" FieldLength="1" VariableType="Character" SegmentKeyFieldNames="" SegmentKeyFieldBusinessNames="" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60132" baseRuleId="60132" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Cash Withdrawals - Declines - Value - Card - 5 mins]]></name><code><![CDATA[/* Array to store value of declined cash withdrawals for a card for the last 5 minutes (including current minute)*/
%DeclareArray(&rule.withdrawal_amt, _H_CASH_DEC_AMT_1 - _H_CASH_DEC_AMT_5);

if aqm_mer_mcc = '6011'
and tcm_client_tran_type = 'CW' /*cash withdrawal*/
and _u_ind_002 = 'D' /*Declined*/
then do;
%ShiftHistoryArray(&rule.withdrawal_amt,_H_CASH_DEC_AMT_DT, hms(0,1,0),&rule.i);

if &rule.i > 0
then %set(&rule.withdrawal_amt,&rule.i) = %get(&rule.withdrawal_amt,&rule.i) + TCM_MER_AMT;

end;]]></code><desc><![CDATA[Store the value of declined cash withdrawals on a card every minute for 5 minutes.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_h_cash_dec_amt_4" FieldName="v07_num_00280_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_dec_amt_5" FieldName="v07_num_00240_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_dec_amt_dt" FieldName="v07_num_00248_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_dec_amt_1" FieldName="v07_num_00256_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_dec_amt_2" FieldName="v07_num_00264_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_dec_amt_3" FieldName="v07_num_00272_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_u_ind_002" FieldName="rua_ind_002" InitialValue="" FieldDesc="Indicator/flag field" FieldLength="1" VariableType="Character" SegmentKeyFieldNames="" SegmentKeyFieldBusinessNames="" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60133" baseRuleId="60133" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Monthly Overseas Card Purchases - Merchant - 7mths]]></name><code><![CDATA[/* Array to store volume of overseas card purchases at the merchant for 7 months(including current month)*/
%DeclareArray(&rule.monthly_vol_array, _M_MONTHLY_OS_VOL_1 - _M_MONTHLY_OS_VOL_7);

&rule.BIN = substr(hqm_payment_method,1,6);

if tcm_reversal_ind = 'N'
/* and _u_ind_002  = 'A' /*Approved*/
and not %ListContains(domestic_bins,&rule.bin) /*overseas card*/
then do;
%ShiftHistoryArray(&rule.monthly_vol_array,_M_MONTHLY_OS_VOL_DT,dhms(30,0,0,0),&rule.i);

if &rule.i > 0
then
%set(&rule.monthly_vol_array,&rule.i) = %get(&rule.monthly_vol_array,&rule.i) + 1;

end;]]></code><desc><![CDATA[Store the volume overseas card purchases at a  merchant monthly for 7 months (including current month)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_monthly_os_vol_1" FieldName="v01_num_03728_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_2" FieldName="v01_num_03736_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_3" FieldName="v01_num_03744_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_4" FieldName="v01_num_03752_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_5" FieldName="v01_num_03760_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_6" FieldName="v01_num_03768_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_7" FieldName="v01_num_03776_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_dt" FieldName="v01_num_03784_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60135" baseRuleId="60135" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Monthly Transaction Count - Merchant - 7mths]]></name><code><![CDATA[/* Array to store the volume of transactions for the merchant for 7 months  (including current month)*/

%DeclareArray(&rule.MONTHLY_vol_array, _M_MONTHLY_TXN_VOL_1 - _M_MONTHLY_TXN_VOL_7);

/*if _u_ind_002 = 'A' /*Approved*/
/*then do;*/

%ShiftHistoryArray(&rule.MONTHLY_vol_array,_M_MONTHLY_TXN_VOL_DT,dhms(30,0,0,0),&rule.i);

if &rule.i > 0
then %set(&rule.MONTHLY_vol_array,&rule.i) = %get(&rule.MONTHLY_vol_array,&rule.i) + 1;

/*end;*/]]></code><desc><![CDATA[Store the total volume of transactions at a merchant monthly for 7 months (including current month)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_monthly_txn_vol_5" FieldName="v01_num_03848_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_txn_vol_6" FieldName="v01_num_03856_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_txn_vol_7" FieldName="v01_num_03864_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_txn_vol_dt" FieldName="v01_num_03872_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_txn_vol_1" FieldName="v01_num_03816_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_txn_vol_2" FieldName="v01_num_03824_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_txn_vol_3" FieldName="v01_num_03832_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_txn_vol_4" FieldName="v01_num_03840_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60136" baseRuleId="60136" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Daily Chargebacks - Volume and Value]]></name><code><![CDATA[if tng_tran_type = 'CH' /*chargeback*/
then do ;
  if rqo_tran_date = _M_chargeback_dt
  then do;
    %set(_M_chargeback_count) = _M_chargeback_count +1;
    %set(_M_chargeback_amt) = _M_chargeback_amt + dch_mer_amt;
  end;
  else do;
      %set(_M_chargeback_count) = 1;
      %set(_M_chargeback_amt) = dch_mer_amt;
      %set(_M_chargeback_dt) = rqo_tran_date;
  end;
 end;]]></code><desc><![CDATA[Store the daily volume and value of chargebacks]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="NA"/><component componentField="smh_channel_type" componentValue="N"/><component componentField="smh_activity_type" componentValue="NM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DNX"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DCH"/><VariableList><Variable FieldBusinessName="_m_chargeback_amt" FieldName="v01_num_03880_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_chargeback_count" FieldName="v01_num_03888_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_chargeback_dt" FieldName="v01_num_03896_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Date" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60137" baseRuleId="60137" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Monthly Purchase Count - Merchant - 7mths]]></name><code><![CDATA[/* Array to store volume of purchase authorisations for last 7 months ( including current month)*/
%DeclareArray(&rule.monthly_vol_array, _M_MONTHLY_PURCH_VOL_1 - _M_MONTHLY_PURCH_VOL_7);

if tcm_reversal_ind = 'N'
/*and _u_ind_002 = 'A' /*Approved*/
then do;
%ShiftHistoryArray(&rule.monthly_vol_array,_M_MONTHLY_PURCH_VOL_DT,dhms(30,0,0,0),&rule.i);

if &rule.i > 0
then
%set(&rule.monthly_vol_array,&rule.i) = %get(&rule.monthly_vol_array,&rule.i) + 1;

end;]]></code><desc><![CDATA[Store the total volume of purchase authorisations at a merchant monthly for 7 months (including current month)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_monthly_purch_vol_dt" FieldName="v01_num_03904_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_vol_1" FieldName="v01_num_03912_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_vol_2" FieldName="v01_num_03920_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_vol_3" FieldName="v01_num_03928_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_vol_4" FieldName="v01_num_03936_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_vol_5" FieldName="v01_num_03944_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_vol_6" FieldName="v01_num_03952_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_vol_7" FieldName="v01_num_03960_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60138" baseRuleId="60138" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Weekly Refund Amount - Merchant - 13 weeks]]></name><code><![CDATA[/* Array to store value of refunds for the merchant for 13 weeks(including current week)*/

%DeclareArray(&rule.week_amt_array,_M_WEEK_REFUND_AMT_1 - _M_WEEK_REFUND_AMT_13);

if tcm_reversal_ind ='F'/*refund*/
then do;

%ShiftHistoryArray(&rule.week_amt_array,_M_WEEK_REFUND_AMT_DT,dhms(7,0,0,0),&rule.i);

if &rule.i > 0
then
%set(&rule.week_amt_array,&rule.i) = %get(&rule.week_amt_array,&rule.i) + TCM_MER_AMT ;

end;]]></code><desc><![CDATA[Store the total amount of refunds at a merchant weekly for 13 weeks (including current week)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_week_refund_amt_2" FieldName="v01_num_03976_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_amt_3" FieldName="v01_num_03984_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_amt_4" FieldName="v01_num_03992_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_amt_5" FieldName="v01_num_04000_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_amt_6" FieldName="v01_num_04008_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_amt_7" FieldName="v01_num_04016_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_amt_8" FieldName="v01_num_04024_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_amt_9" FieldName="v01_num_04032_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_amt_10" FieldName="v01_num_04040_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_amt_11" FieldName="v01_num_04048_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_amt_12" FieldName="v01_num_04056_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_amt_13" FieldName="v01_num_04064_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_amt_dt" FieldName="v01_num_04072_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_amt_1" FieldName="v01_num_03968_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60139" baseRuleId="60139" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Weekly Refund Count - Merchant - 13 weeks]]></name><code><![CDATA[/* Array to store volume of refunds for the merchant for 13 weeks(including current week)*/

%DeclareArray(&rule.week_vol_array,_M_WEEK_REFUND_VOL_1 - _M_WEEK_REFUND_VOL_13);

if tcm_reversal_ind ='F'/*refund*/
then do;

%ShiftHistoryArray(&rule.week_vol_array,_M_WEEK_REFUND_VOL_DT,dhms(7,0,0,0),&rule.i);

if &rule.i > 0
then
%set(&rule.week_vol_array,&rule.i) = %get(&rule.week_vol_array,&rule.i) + TCM_MER_AMT ;

end;]]></code><desc><![CDATA[Store the total volume of refunds at a merchant weekly for 13 weeks (including current week)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_week_refund_vol_2" FieldName="v01_num_04080_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_vol_3" FieldName="v01_num_04088_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_vol_4" FieldName="v01_num_04096_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_vol_5" FieldName="v01_num_04104_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_vol_6" FieldName="v01_num_04112_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_vol_7" FieldName="v01_num_04120_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_vol_8" FieldName="v01_num_04128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_vol_9" FieldName="v01_num_04136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_vol_10" FieldName="v01_num_04144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_vol_11" FieldName="v01_num_04152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_vol_12" FieldName="v01_num_04160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_vol_13" FieldName="v01_num_04168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_vol_dt" FieldName="v01_num_04176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_vol_1" FieldName="v01_num_04184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60140" baseRuleId="60140" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Weekly Credit Voucher Amount - Merchant - 13 weeks]]></name><code><![CDATA[/* Array to store value of credit vouchers for the merchant for 13 weeks(including current week)*/
%DeclareArray(&rule.week_amt_array,_M_WEEK_CV_AMT_1 - _M_WEEK_CV_AMT_13);

if tcm_reversal_ind ='C' /*credit voucher*/
then do;

%ShiftHistoryArray(&rule.week_amt_array,_M_WEEK_CV_AMT_DT,dhms(7,0,0,0),&rule.i);

if &rule.i > 0
then
%set(&rule.week_amt_array,&rule.i) = %get(&rule.week_amt_array,&rule.i) + TCM_MER_AMT ;

end;]]></code><desc><![CDATA[Store the total amount of credit vouchers at a merchant weekly for 13 weeks (including current week)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_week_cv_amt_6" FieldName="v01_num_04232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_amt_7" FieldName="v01_num_04240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_amt_8" FieldName="v01_num_04248_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_amt_9" FieldName="v01_num_04256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_amt_10" FieldName="v01_num_04264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_amt_11" FieldName="v01_num_04272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_amt_12" FieldName="v01_num_04280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_amt_13" FieldName="v01_num_04288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_amt_dt" FieldName="v01_num_04296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_amt_1" FieldName="v01_num_04192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_amt_2" FieldName="v01_num_04200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_amt_3" FieldName="v01_num_04208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_amt_4" FieldName="v01_num_04216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_amt_5" FieldName="v01_num_04224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60141" baseRuleId="60141" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Weekly Credit Voucher Count - Merchant - 13 weeks]]></name><code><![CDATA[/* Array to store volume of credit vouchers for the merchant for 13 weeks(including current week)*/
%DeclareArray(&rule.week_vol_array,_M_WEEK_CV_VOL_1 - _M_WEEK_CV_VOL_13);

if tcm_reversal_ind ='C' /*credit voucher*/
then do;

%ShiftHistoryArray(&rule.week_vol_array,_M_WEEK_CV_VOL_DT,dhms(7,0,0,0),&rule.i);

if &rule.i > 0
then
%set(&rule.week_vol_array,&rule.i) = %get(&rule.week_vol_array,&rule.i) + TCM_MER_AMT ;

end;]]></code><desc><![CDATA[Store the total volume of credit vouchers at a merchant weekly for 13 weeks (including current week)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_week_cv_vol_6" FieldName="v01_num_04304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_vol_7" FieldName="v01_num_04312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_vol_8" FieldName="v01_num_04320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_vol_9" FieldName="v01_num_04328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_vol_10" FieldName="v01_num_04336_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_vol_11" FieldName="v01_num_04344_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_vol_12" FieldName="v01_num_04352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_vol_13" FieldName="v01_num_04360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_vol_dt" FieldName="v01_num_04368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_vol_1" FieldName="v01_num_04376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_vol_2" FieldName="v01_num_04384_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_vol_3" FieldName="v01_num_04392_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_vol_4" FieldName="v01_num_04400_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_vol_5" FieldName="v01_num_04408_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60205" baseRuleId="60205" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Daily Overseas Card Purchases - Volume and Value]]></name><code><![CDATA[&rule.BIN = substr(hqm_payment_method,1,6);

if tcm_reversal_ind = 'N'
/* and _u_ind_002  = 'A' /*Approved*/
and not %ListContains(domestic_bins,&rule.bin) /*overseas card*/
then do ;
  if rqo_tran_date = _M_OS_DT
  then do;
    %set(_M_OS_COUNT) = _M_OS_COUNT +1;
    %set(_M_OS_AMT) = _M_OS_AMT + TCM_MER_AMT;
  end;
  else do;
      %set(_M_OS_COUNT) = 1;
      %set(_M_OS_AMT) = TCM_MER_AMT;
      %set(_M_OS_DT) = rqo_tran_date;
  end;
 end;]]></code><desc><![CDATA[Store the daily volume and total value of overseas card purchases at a merchant
]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_os_dt" FieldName="v01_num_03792_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Date" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_os_count" FieldName="v01_num_03800_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_os_amt" FieldName="v01_num_03808_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60206" baseRuleId="60206" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Daily CNP/CP Count - Merchant - 31 days]]></name><code><![CDATA[/* Array to store volume of CNP purchase authorisations for the merchant for 31 days(including current day)*/
%DeclareArray(&rule.daily_CNP_array,_M_DAILY_CNP_VOL_1 - _M_DAILY_CNP_VOL_31);
/* Array to store volume of CP purchase authorisations for the merchant for 31 days(including current day)*/
%DeclareArray(&rule.daily_CP_array,_M_DAILY_CP_VOL_1 - _M_DAILY_CP_VOL_31);

if tcm_reversal_ind ='N'
/*and _u_ind_002 = 'A' /*Approved*/
then do;
   if ucm_card_present = '1' /*CNP*/
   then do;

    %ShiftHistoryArray(&rule.daily_CNP_array,_M_DAILY_CNP_VOL_DT,dhms(1,0,0,0),&rule.i);
    if &rule.i > 0 then
    %set(&rule.daily_CNP_array,&rule.i) = %get(&rule.daily_CNP_array,&rule.i) +1 ;

   end;
   if ucm_card_present = '0' /*CP*/
   then do;

    %ShiftHistoryArray(&rule.daily_CP_array,_M_DAILY_CP_VOL_DT,dhms(1,0,0,0),&rule.i);
    if &rule.i > 0 then
    %set(&rule.daily_CP_array,&rule.i) = %get(&rule.daily_CP_array,&rule.i) +1 ;

   end;
end;]]></code><desc><![CDATA[Store a count of the number of CNP and CP purchases authorisations at a merchant daily for 31 days (including current day)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_cp_vol_1" FieldName="v01_num_06488_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_dt" FieldName="v01_num_06496_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_dt" FieldName="v01_num_06504_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_1" FieldName="v01_num_05720_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_2" FieldName="v01_num_05728_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_3" FieldName="v01_num_05736_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_4" FieldName="v01_num_05744_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_5" FieldName="v01_num_05752_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_6" FieldName="v01_num_05760_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_7" FieldName="v01_num_05768_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_8" FieldName="v01_num_05776_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_9" FieldName="v01_num_05784_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_10" FieldName="v01_num_05792_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_11" FieldName="v01_num_05800_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_12" FieldName="v01_num_05808_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_13" FieldName="v01_num_05816_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_14" FieldName="v01_num_05824_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_15" FieldName="v01_num_05832_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_16" FieldName="v01_num_05840_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_17" FieldName="v01_num_05848_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_18" FieldName="v01_num_05856_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_19" FieldName="v01_num_05864_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_20" FieldName="v01_num_05872_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_21" FieldName="v01_num_05880_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_22" FieldName="v01_num_05888_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_23" FieldName="v01_num_05896_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_24" FieldName="v01_num_05904_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_25" FieldName="v01_num_05912_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_26" FieldName="v01_num_05920_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_27" FieldName="v01_num_05928_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_28" FieldName="v01_num_05936_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_29" FieldName="v01_num_05944_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_30" FieldName="v01_num_05952_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_31" FieldName="v01_num_05960_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_2" FieldName="v01_num_05968_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_3" FieldName="v01_num_05976_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_4" FieldName="v01_num_05984_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_5" FieldName="v01_num_05992_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_6" FieldName="v01_num_06000_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_7" FieldName="v01_num_06008_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_8" FieldName="v01_num_06016_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_9" FieldName="v01_num_06024_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_10" FieldName="v01_num_06032_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_11" FieldName="v01_num_06040_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_12" FieldName="v01_num_06048_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_13" FieldName="v01_num_06056_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_14" FieldName="v01_num_06064_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_15" FieldName="v01_num_06072_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_16" FieldName="v01_num_06080_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_17" FieldName="v01_num_06088_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_18" FieldName="v01_num_06096_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_19" FieldName="v01_num_06104_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_20" FieldName="v01_num_06112_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_21" FieldName="v01_num_06120_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_22" FieldName="v01_num_06128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_23" FieldName="v01_num_06136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_24" FieldName="v01_num_06144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_25" FieldName="v01_num_06152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_26" FieldName="v01_num_06160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_27" FieldName="v01_num_06168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_28" FieldName="v01_num_06176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_29" FieldName="v01_num_06184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_30" FieldName="v01_num_06192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_31" FieldName="v01_num_06200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60207" baseRuleId="60207" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Daily POS Count - Merchant - 31 days]]></name><code><![CDATA[/* Array to store volume of Mag Stripe purchase authorisations for the merchant for 31 days(including current day)*/
%DeclareArray(&rule.daily_mag_array,_M_DAILY_MAG_VOL_1 - _M_DAILY_MAG_VOL_31);
/* Array to store volume of keyed purchase authorisations for the merchant for 31 days(including current day)*/
%DeclareArray(&rule.daily_keyed_array,_M_DAILY_KEY_VOL_1 - _M_DAILY_KEY_VOL_31);
/* Array to store volume of chip purchase authorisations for the merchant for 31 days(including current day)*/
%DeclareArray(&rule.daily_chip_array,_M_DAILY_CHIP_VOL_1 - _M_DAILY_CHIP_VOL_31);

if tcm_reversal_ind ='N'
/*and _u_ind_002 = 'A' /*Approved*/
then do;
   if ucm_pos in ( '90', '80' ) /*Mag Stripe*/
   then do;

    %ShiftHistoryArray(&rule.daily_mag_array,_M_DAILY_MAG_VOL_DT,dhms(1,0,0,0),&rule.i);
    if &rule.i > 0 then
    %set(&rule.daily_mag_array,&rule.i) = %get(&rule.daily_mag_array,&rule.i) +1 ;

   end;
   if ucm_pos in ('01','79') /*Keyed*/
   then do;

    %ShiftHistoryArray(&rule.daily_keyed_array,_M_DAILY_KEY_VOL_DT,dhms(1,0,0,0),&rule.i);
    if &rule.i > 0 then
    %set(&rule.daily_keyed_array,&rule.i) = %get(&rule.daily_keyed_array,&rule.i) +1 ;

   end;
      if ucm_pos = ('05') /*Chip*/
   then do;

    %ShiftHistoryArray(&rule.daily_chip_array,_M_DAILY_CHIP_VOL_DT,dhms(1,0,0,0),&rule.i);
    if &rule.i > 0 then
    %set(&rule.daily_chip_array,&rule.i) = %get(&rule.daily_chip_array,&rule.i) +1 ;

   end;
end;]]></code><desc><![CDATA[Store the total volume of different POS type purchase transactions for the merchant daily for 31 days (including current day)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_key_vol_10" FieldName="v01_num_04416_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_11" FieldName="v01_num_04424_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_12" FieldName="v01_num_04432_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_13" FieldName="v01_num_04440_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_14" FieldName="v01_num_04448_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_15" FieldName="v01_num_04456_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_16" FieldName="v01_num_04464_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_17" FieldName="v01_num_04472_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_18" FieldName="v01_num_04480_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_19" FieldName="v01_num_04488_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_20" FieldName="v01_num_04496_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_21" FieldName="v01_num_04504_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_22" FieldName="v01_num_04512_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_23" FieldName="v01_num_04520_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_24" FieldName="v01_num_04528_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_25" FieldName="v01_num_04536_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_26" FieldName="v01_num_04544_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_27" FieldName="v01_num_04552_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_28" FieldName="v01_num_04560_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_29" FieldName="v01_num_04568_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_30" FieldName="v01_num_04576_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_31" FieldName="v01_num_04584_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_dt" FieldName="v01_num_04592_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_1" FieldName="v01_num_04600_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_2" FieldName="v01_num_04608_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_3" FieldName="v01_num_04616_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_4" FieldName="v01_num_04624_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_5" FieldName="v01_num_04632_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_6" FieldName="v01_num_04640_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_7" FieldName="v01_num_04648_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_8" FieldName="v01_num_04656_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_9" FieldName="v01_num_04664_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_10" FieldName="v01_num_04672_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_11" FieldName="v01_num_04680_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_12" FieldName="v01_num_04688_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_13" FieldName="v01_num_04696_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_14" FieldName="v01_num_04704_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_15" FieldName="v01_num_04712_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_16" FieldName="v01_num_04720_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_17" FieldName="v01_num_04728_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_18" FieldName="v01_num_04736_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_19" FieldName="v01_num_04744_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_20" FieldName="v01_num_04752_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_21" FieldName="v01_num_04760_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_22" FieldName="v01_num_04768_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_23" FieldName="v01_num_04776_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_24" FieldName="v01_num_04784_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_25" FieldName="v01_num_04792_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_26" FieldName="v01_num_04800_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_27" FieldName="v01_num_04808_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_28" FieldName="v01_num_04816_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_29" FieldName="v01_num_04824_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_30" FieldName="v01_num_04832_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_31" FieldName="v01_num_04840_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_dt" FieldName="v01_num_04848_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_1" FieldName="v01_num_04856_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_2" FieldName="v01_num_04864_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_3" FieldName="v01_num_04872_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_4" FieldName="v01_num_04880_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_5" FieldName="v01_num_04888_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_6" FieldName="v01_num_04896_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_7" FieldName="v01_num_04904_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_8" FieldName="v01_num_04912_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_9" FieldName="v01_num_04920_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_10" FieldName="v01_num_04928_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_11" FieldName="v01_num_04936_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_12" FieldName="v01_num_04944_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_13" FieldName="v01_num_04952_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_14" FieldName="v01_num_04960_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_15" FieldName="v01_num_04968_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_16" FieldName="v01_num_04976_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_17" FieldName="v01_num_04984_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_18" FieldName="v01_num_04992_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_19" FieldName="v01_num_05000_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_20" FieldName="v01_num_05008_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_21" FieldName="v01_num_05016_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_22" FieldName="v01_num_05024_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_23" FieldName="v01_num_05032_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_24" FieldName="v01_num_05040_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_25" FieldName="v01_num_05048_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_26" FieldName="v01_num_05056_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_27" FieldName="v01_num_05064_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_28" FieldName="v01_num_05072_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_29" FieldName="v01_num_05080_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_30" FieldName="v01_num_05088_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_31" FieldName="v01_num_05096_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_dt" FieldName="v01_num_05104_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_1" FieldName="v01_num_05112_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_2" FieldName="v01_num_05120_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_3" FieldName="v01_num_05128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_4" FieldName="v01_num_05136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_5" FieldName="v01_num_05144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_6" FieldName="v01_num_05152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_7" FieldName="v01_num_05160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_8" FieldName="v01_num_05168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_9" FieldName="v01_num_05176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60208" baseRuleId="60208" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[High Value Posting Date]]></name><code><![CDATA[if TCP_BILLING_AMT > 20000
then %set(_m_high_posting_dt) = dhms(rqo_tran_date,0,0,rqo_tran_time);]]></code><desc><![CDATA[Store the date and time of a high value posting]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="B"/><component componentField="smh_cust_type" componentValue="I"/><component componentField="smh_acct_type" componentValue="CS"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="C"/><component componentField="smh_channel_type" componentValue="D"/><component componentField="smh_channel_type" componentValue="E"/><component componentField="smh_activity_type" componentValue="CP"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DPD"/><component componentField="smh_activity_detail1" componentValue="DUA"/><VariableList><Variable FieldBusinessName="_m_high_posting_dt" FieldName="v01_num_06208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60209" baseRuleId="60209" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Daily Purchase Count - Declines - Merchant - 31 days]]></name><code><![CDATA[/* Array to store volume of declined purchase authorisations for the merchant for 31 days(including current day)*/

%DeclareArray(&rule.daily_vol_array,_M_DAILY_PURCH_D_VOL_1 - _M_DAILY_PURCH_D_VOL_31);

if tcm_reversal_ind ='N'
and _u_ind_002 = 'D' /*Declined*/
then do;

%ShiftHistoryArray(&rule.daily_vol_array,_M_DAILY_PURCH_D_VOL_DT,dhms(1,0,0,0),&rule.i);
if &rule.i > 0 then
%set(&rule.daily_vol_array,&rule.i) = %get(&rule.daily_vol_array,&rule.i) +1 ;

end;]]></code><desc><![CDATA[Store the total volume of declined purchase authorisations at a merchant daily for 31 days (including current day)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_purch_d_vol_16" FieldName="v01_num_05256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_17" FieldName="v01_num_05264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_18" FieldName="v01_num_05272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_19" FieldName="v01_num_05280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_20" FieldName="v01_num_05288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_21" FieldName="v01_num_05296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_22" FieldName="v01_num_05304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_23" FieldName="v01_num_05312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_24" FieldName="v01_num_05320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_25" FieldName="v01_num_05328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_26" FieldName="v01_num_05336_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_27" FieldName="v01_num_05344_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_28" FieldName="v01_num_05352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_29" FieldName="v01_num_05360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_30" FieldName="v01_num_05368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_31" FieldName="v01_num_05376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_dt" FieldName="v01_num_05384_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_1" FieldName="v01_num_05392_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_2" FieldName="v01_num_05400_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_3" FieldName="v01_num_05408_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_4" FieldName="v01_num_05416_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_5" FieldName="v01_num_05424_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_6" FieldName="v01_num_05432_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_u_ind_002" FieldName="rua_ind_002" InitialValue="" FieldDesc="Indicator/flag field" FieldLength="1" VariableType="Character" SegmentKeyFieldNames="" SegmentKeyFieldBusinessNames="" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_7" FieldName="v01_num_05184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_8" FieldName="v01_num_05192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_9" FieldName="v01_num_05200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_10" FieldName="v01_num_05208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_11" FieldName="v01_num_05216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_12" FieldName="v01_num_05224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_13" FieldName="v01_num_05232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_14" FieldName="v01_num_05240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_15" FieldName="v01_num_05248_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60210" baseRuleId="60210" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Daily Tester Count]]></name><code><![CDATA[if tcm_reversal_ind = 'N'
/* and _u_ind_002  = 'A' /*Approved*/
and tcm_mer_amt < 1
then do ;
  if rqo_tran_date = _M_TESTER_DT
  then do;
    %set(_M_TESTER_COUNT) = _M_TESTER_COUNT +1;
  end;
  else do;
      %set(_M_TESTER_COUNT) = 1;
      %set(_M_TESTER_DT) = rqo_tran_date;
  end;
 end;]]></code><desc><![CDATA[Store a daily count of tester purchase authorisations for a merchant]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_tester_dt" FieldName="v01_num_06464_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Date" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_tester_count" FieldName="v01_num_06216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60211" baseRuleId="60211" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Withdrawal tracker]]></name><code><![CDATA[/*Array to store the date and time of last 3 withdrawals at either ATM/Branch*/
%DeclareArray(&rule.withdrawals_dt ,_m_withdrawal_dt_1 - _m_withdrawal_dt_3);

if smh_activity_type = 'CA' /*card authorisation*/
 and hct_mer_mcc = '6011'/*ATM*/
 and tca_auth_sys_dec = '1' /*Approved*/
 and tca_reversal_ind = 'N'
then do;
 %shifthistoryarray(&rule.withdrawals_dt);
 %set(_m_withdrawal_dt_1) = dhms(rqo_tran_date,0,0,rqo_tran_time);
end;

if smh_activity_type = 'CW' /*counter withdrawal*/
/*and _u_ind_002 = 'A' /*Approved*/
and tca_reversal_ind = 'N'
then do;
 %shifthistoryarray(&rule.withdrawals_dt);
 %set(_m_withdrawal_dt_1) = dhms(rqo_tran_date,0,0,rqo_tran_time);
end;]]></code><desc><![CDATA[ Store the date and time of last 3 withdrawals at either ATM/Branch]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="B"/><component componentField="smh_cust_type" componentValue="I"/><component componentField="smh_acct_type" componentValue="CS"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_authenticate_mtd" componentValue="UK"/><component componentField="smh_channel_type" componentValue="C"/><component componentField="smh_channel_type" componentValue="D"/><component componentField="smh_channel_type" componentValue="E"/><component componentField="smh_channel_type" componentValue="H"/><component componentField="smh_activity_type" componentValue="CA"/><component componentField="smh_activity_type" componentValue="CW"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DNS"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DPD"/><component componentField="smh_activity_detail1" componentValue="DUA"/><VariableList><Variable FieldBusinessName="_m_withdrawal_dt_1" FieldName="v01_num_05440_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_withdrawal_dt_2" FieldName="v01_num_05448_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_withdrawal_dt_3" FieldName="v01_num_05456_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60212" baseRuleId="60212" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Daily Domestic Card Purchase Amount - Merchant - 31 days]]></name><code><![CDATA[/* Array to store amount of domestic card purchase authorisations at a merchant daily for 31 days (including current day)*/
%DeclareArray(&rule.daily_amt_array,_M_DAILY_DOM_AMT_1 - _M_DAILY_DOM_AMT_31);

&rule.BIN = substr(hqm_payment_method,1,6);

if tcm_reversal_ind ='N'
/*and _u_ind_002 = 'A' /*Approved*/
and %ListContains(domestic_bins,&rule.bin) /*domestic card*/

then do;
%ShiftHistoryArray(&rule.daily_amt_array,_M_DAILY_DOM_AMT_DT,dhms(1,0,0,0),&rule.i);

if &rule.i > 0 then
%set(&rule.daily_amt_array,&rule.i) = %get(&rule.daily_amt_array,&rule.i) + TCM_MER_AMT ;

end;]]></code><desc><![CDATA[Store the total amount of domestic card purchase authorisations at a merchant daily for 31 days (including current day)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_dom_amt_8" FieldName="v01_num_06280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_9" FieldName="v01_num_06288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_10" FieldName="v01_num_06296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_11" FieldName="v01_num_06304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_12" FieldName="v01_num_06312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_13" FieldName="v01_num_06320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_14" FieldName="v01_num_06328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_15" FieldName="v01_num_06336_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_16" FieldName="v01_num_06344_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_17" FieldName="v01_num_06352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_18" FieldName="v01_num_06360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_19" FieldName="v01_num_06368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_20" FieldName="v01_num_06376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_21" FieldName="v01_num_06384_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_22" FieldName="v01_num_06392_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_23" FieldName="v01_num_06400_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_24" FieldName="v01_num_06408_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_25" FieldName="v01_num_06416_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_26" FieldName="v01_num_06424_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_27" FieldName="v01_num_06432_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_28" FieldName="v01_num_06440_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_29" FieldName="v01_num_06448_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_30" FieldName="v01_num_06456_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_1" FieldName="v01_num_06472_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_dt" FieldName="v01_num_06480_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_31" FieldName="v01_num_06224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_2" FieldName="v01_num_06232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_3" FieldName="v01_num_06240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_4" FieldName="v01_num_06248_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_5" FieldName="v01_num_06256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_6" FieldName="v01_num_06264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_7" FieldName="v01_num_06272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60213" baseRuleId="60213" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[Daily Domestic Card Purchase Count- Merchant - 31 days]]></name><code><![CDATA[/* Array to store volume of domestic card purchase authorisations at a merchant daily for 31 days (including current day)*/
%DeclareArray(&rule.daily_vol_array,_M_DAILY_DOM_VOL_1 - _M_DAILY_DOM_VOL_31);

&rule.BIN = substr(hqm_payment_method,1,6);

if tcm_reversal_ind ='N'
/*and _u_ind_002 = 'A' /*Approved*/
and %ListContains(domestic_bins,&rule.bin) /*domestic card*/

then do;
%ShiftHistoryArray(&rule.daily_vol_array,_M_DAILY_DOM_VOL_DT,dhms(1,0,0,0),&rule.i);

if &rule.i > 0 then
%set(&rule.daily_vol_array,&rule.i) = %get(&rule.daily_vol_array,&rule.i) + 1 ;

end;]]></code><desc><![CDATA[Store the total volume of domestic card purchase authorsations at a merchant daily for 31 days (including current day)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_dom_vol_1" FieldName="v01_num_05464_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_2" FieldName="v01_num_05472_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_3" FieldName="v01_num_05480_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_4" FieldName="v01_num_05488_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_5" FieldName="v01_num_05496_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_6" FieldName="v01_num_05504_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_7" FieldName="v01_num_05512_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_8" FieldName="v01_num_05520_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_9" FieldName="v01_num_05528_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_10" FieldName="v01_num_05536_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_11" FieldName="v01_num_05544_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_12" FieldName="v01_num_05552_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_13" FieldName="v01_num_05560_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_14" FieldName="v01_num_05568_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_15" FieldName="v01_num_05576_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_16" FieldName="v01_num_05584_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_17" FieldName="v01_num_05592_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_18" FieldName="v01_num_05600_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_19" FieldName="v01_num_05608_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_20" FieldName="v01_num_05616_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_21" FieldName="v01_num_05624_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_22" FieldName="v01_num_05632_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_23" FieldName="v01_num_05640_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_24" FieldName="v01_num_05648_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_25" FieldName="v01_num_05656_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_26" FieldName="v01_num_05664_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_27" FieldName="v01_num_05672_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_28" FieldName="v01_num_05680_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_29" FieldName="v01_num_05688_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_30" FieldName="v01_num_05696_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_31" FieldName="v01_num_05704_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_dt" FieldName="v01_num_05712_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60224" baseRuleId="60224" version="1" type="Variable" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" executionOrderType="0"><name><![CDATA[ATM BIN Tracker]]></name><code><![CDATA[if  ucm_card_present = '0' /*card present*/
and aqm_mer_mcc = '6011' /*ATM*/
and tcm_reversal_ind = 'N'
then do;

%DeclareArray(&rule.ATM_Card,_t_ATM_card_1 - _t_ATM_card_5);
%DeclareArray(&rule.ATM_Date_Time,_t_ATM_Date_Time_1 - _t_ATM_Date_Time_5);

%ShiftHistoryArray(&rule.ATM_Card);
%ShiftHistoryArray(&rule.ATM_Date_Time);

%Set(&rule.ATM_Card,1) = hqm_payment_id;
%Set(&rule.ATM_Date_Time,1) = dhms(rqo_tran_date,0,0,rqo_tran_time);

end;]]></code><desc><![CDATA[Store Card Number and date and time of the last 5 withdrawals made at an ATM]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[ ]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_t_atm_card_4" FieldName="v06_str_01016_080" InitialValue="" FieldDesc="Variable in Terminal" FieldLength="80" VariableType="Character" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_atm_card_5" FieldName="v06_str_01096_080" InitialValue="" FieldDesc="Variable in Terminal" FieldLength="80" VariableType="Character" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_atm_date_time_1" FieldName="v06_num_01176_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_atm_date_time_2" FieldName="v06_num_01184_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_atm_date_time_3" FieldName="v06_num_01192_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_atm_date_time_4" FieldName="v06_num_01200_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_atm_date_time_5" FieldName="v06_num_01208_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_atm_card_1" FieldName="v06_str_00776_080" InitialValue="" FieldDesc="Variable in Terminal" FieldLength="80" VariableType="Character" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_atm_card_2" FieldName="v06_str_00856_080" InitialValue="" FieldDesc="Variable in Terminal" FieldLength="80" VariableType="Character" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_atm_card_3" FieldName="v06_str_00936_080" InitialValue="" FieldDesc="Variable in Terminal" FieldLength="80" VariableType="Character" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60142" baseRuleId="60142" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Out of Hours]]></name><code><![CDATA[if ucm_card_present = '0' /*CP*/
and aqm_mer_mcc ne '6011'
and (rqo_tran_time >= '23:00:00't
  or rqo_tran_time <= '05:00:00't)
then do;
%Action_alert;
end;]]></code><desc><![CDATA[Card present transaction being made late night or early morning.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList/></Rule><Rule ruleId="60143" baseRuleId="60143" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Watchlist - Merchant]]></name><code><![CDATA[if %ListContains(HighRiskMerchID ,AQM_MER_ID)
then do;
%Action_Decline;
%Action_Alert;
end;]]></code><desc><![CDATA[Merchant associated with a transaction matches a known high risk merchant on a bank watch list.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList/></Rule><Rule ruleId="60144" baseRuleId="60144" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Watchlist - Merchant Name and High Value]]></name><code><![CDATA[if %ListContains(HighRiskMerchant ,AQM_TERM_NAME)
and TCM_MER_AMT > 5000
then do;
%Action_Decline;
%Action_Alert;
end;]]></code><desc><![CDATA[Merchant name associated with a transaction matches a known high risk merchant on a bank watch list and the transaction is high value.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList/></Rule><Rule ruleId="60145" baseRuleId="60145" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Watchlist - Merchant Name and High Volume]]></name><code><![CDATA[if %ListContains(HighRiskMerchant ,AQM_TERM_NAME)
and _M_DAILY_NUMBER_1 > 1000
then do;
%Action_Decline;
%Action_Alert;
end;]]></code><desc><![CDATA[Merchant name associated with a transaction matches a known high risk merchant on a bank watch list and there has been a high volume of transactions.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_number_1" FieldName="v01_num_00000_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60146" baseRuleId="60146" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Watchlist - Merchant ID and High Value]]></name><code><![CDATA[if %ListContains(HighRiskMerchID ,AQM_MER_ID)
and TCM_MER_AMT > 5000
then do;
%Action_Decline;
%Action_Alert;
end;]]></code><desc><![CDATA[Merchant ID configured in watch list and transaction amount above X threshold.  Transaction is declined and alerted]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList/></Rule><Rule ruleId="60147" baseRuleId="60147" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Watchlist - Merchant ID and High Volume]]></name><code><![CDATA[if %ListContains(HighRiskMerchID ,AQM_MER_ID)
and _M_DAILY_NUMBER_1 > 1000
then do;
%Action_Decline;
%Action_Alert;
end;]]></code><desc><![CDATA[Merchant ID associated with a transaction matches a known high risk merchant on a bank watch list and there has been a high volume of transactions.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_number_1" FieldName="v01_num_00000_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60148" baseRuleId="60148" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Watchlist - Terminal ID and High Value]]></name><code><![CDATA[if %ListContains(HighRiskTermID ,HQM_TERM_ID)
and TCM_MER_AMT > 5000
then do;
%Action_Decline;
%Action_Alert;
end;]]></code><desc><![CDATA[Terminal ID associated with a transaction matches a known high risk terminal ID on a bank watch list and the transaction is high value]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList/></Rule><Rule ruleId="60149" baseRuleId="60149" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Watchlist - Terminal ID and High Volume]]></name><code><![CDATA[if %ListContains(HighRiskTermID ,HQM_TERM_ID)
and _T_DAILY_NUMBER_1 > 1000
then do;
%Action_Decline;
%Action_Alert;
end;]]></code><desc><![CDATA[Terminal ID associated with a transaction matches a known high risk terminal ID on a bank watch list and there has been a high volume of transactions.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_t_daily_number_1" FieldName="v06_num_00152_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60150" baseRuleId="60150" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[High Card Usage - ALL]]></name><code><![CDATA[/* Array storing volume of transactions for last 5 minutes for a card (including current minute)*/
%DeclareArray(&rule.all_txn_vol, _H_ALL_TXN_VOL_1 - _H_ALL_TXN_VOL_5);

if sum(&&&rule.all_txn_vol) > 15
/*and _u_ind_002 = 'A' /*Approved*/
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Number of transactions from a particular card greater than X within X minutes]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_h_all_txn_vol_1" FieldName="v07_num_00024_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_all_txn_vol_2" FieldName="v07_num_00032_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_all_txn_vol_3" FieldName="v07_num_00040_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_all_txn_vol_4" FieldName="v07_num_00048_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_all_txn_vol_5" FieldName="v07_num_00056_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60151" baseRuleId="60151" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[High Card Usage - Purchases]]></name><code><![CDATA[/* Array storing volume of purchase authorisations for last 5 minutes for a card (including current minute)*/
%DeclareArray(&rule.PURCHASE_txn_vol, _H_PURCHASE_VOL_1 - _H_PURCHASE_VOL_5);

if TCM_REVERSAL_IND = 'N'
/* and _u_ind_002 = 'A' /*Approved*/
and sum(&&&rule.PURCHASE_txn_vol) > 15
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[High volume of purchase authorizations ( including declines) on a card in a short period of time.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_h_purchase_vol_2" FieldName="v07_num_00072_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_purchase_vol_3" FieldName="v07_num_00080_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_purchase_vol_4" FieldName="v07_num_00088_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_purchase_vol_5" FieldName="v07_num_00000_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_purchase_vol_1" FieldName="v07_num_00064_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60152" baseRuleId="60152" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[ High Value Transaction - Purchase]]></name><code><![CDATA[/* Array storing amount of purchase authorisations for last 6 months (not including current month)*/
%DeclareArray(&rule.monthly_amt_array, _M_MONTHLY_PURCH_AMT_2 - _M_MONTHLY_PURCH_AMT_7);

&rule.monthly_ave = sum(&&&rule.monthly_amt_array)/6;

if tcm_reversal_ind = 'N'
/*and _u_ind_002 = 'A' /*Approved*/
and (TCM_MER_AMT > 1000
or TCM_MER_AMT >3* &rule.monthly_ave)
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[ Single purchase authorisation that is much higher value than average]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_monthly_purch_amt_2" FieldName="v01_num_00512_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_amt_3" FieldName="v01_num_00520_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_amt_4" FieldName="v01_num_00536_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_amt_5" FieldName="v01_num_00544_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_amt_6" FieldName="v01_num_00552_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_amt_7" FieldName="v01_num_00560_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60153" baseRuleId="60153" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="BF - Suspect Merchants" executionOrderType="0"><name><![CDATA[High Value Posting]]></name><code><![CDATA[/*Array storing value of postings for the merchant for last 6 months(not including current month)*/
%DeclareArray(&rule.monthly_post_amt, _M_MONTHLY_POST_AMT_2 - _M_MONTHLY_POST_AMT_7);

&rule.monthly_ave = sum(&&&rule.monthly_post_amt)/6;

if TCP_BILLING_AMT > 1000
or TCP_BILLING_AMT >3* &rule.monthly_ave
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[ Single posting that is much higher value than average]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[M]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="B"/><component componentField="smh_cust_type" componentValue="I"/><component componentField="smh_acct_type" componentValue="CS"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="C"/><component componentField="smh_channel_type" componentValue="D"/><component componentField="smh_channel_type" componentValue="E"/><component componentField="smh_activity_type" componentValue="CP"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DPD"/><component componentField="smh_activity_detail1" componentValue="DUA"/><VariableList><Variable FieldBusinessName="_m_monthly_post_amt_6" FieldName="v01_num_00616_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_amt_7" FieldName="v01_num_00624_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_amt_2" FieldName="v01_num_00584_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_amt_3" FieldName="v01_num_00592_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_amt_4" FieldName="v01_num_00600_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_amt_5" FieldName="v01_num_00608_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60154" baseRuleId="60154" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[High Value Purchase for MCC Type]]></name><code><![CDATA[&rule.mcc_threshold = %Lookup(mcc_thresholds,aqm_mer_mcc);

if tcm_reversal_ind = 'N'
/*and _u_ind_002 = 'A'/*Approved*/
and TCM_MER_AMT > input(&rule.mcc_threshold, best.)
then do;
%action_decline;
%action_alert;
end;]]></code><desc><![CDATA[Purchase authorisation amount > MCC threshold amount]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList/></Rule><Rule ruleId="60155" baseRuleId="60155" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Mag Stripe Transaction]]></name><code><![CDATA[if TCM_REVERSAL_IND = 'N'
and HQM_PAYMENT_MEDIA = 'C' /*Chip card with PIN*/
and ucm_pos in ( '90', '80' )
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[A purchase authorisation is submitted using Mag Stripe for a card with chip & pin enabled at a POS.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList/></Rule><Rule ruleId="60156" baseRuleId="60156" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Manual PAN Entry - Purchases]]></name><code><![CDATA[if ucm_pos in ( '01','79' )
and tcm_reversal_ind = 'N'
/* and _u_ind_002  = 'A' /*Approved*/
and _M_KEYED_COUNT > 50
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Large amount of Manual PAN entry purchase authorisations for a merchant]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_keyed_count" FieldName="v01_num_00640_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60157" baseRuleId="60157" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Change in Behaviour - Short Period - Purchase Value - Daily Ave]]></name><code><![CDATA[/* Array storing last 30 days of total value of purchase authorisations for the merchant (not including current day)*/
%DeclareArray(&rule.daily_amt_array,_M_DAILY_PURCH_AMT_2 - _M_DAILY_PURCH_AMT_31);
/* Array storing amount of purchase authorisationd for last 5 minutes ( including current minute)*/
%DeclareArray(&rule.purchase_amt_min, _M_PURCH_AMT_MIN_1 - _M_PURCH_AMT_MIN_5);

&rule.daily_ave = sum(&&&rule.daily_amt_array)/30;
&rule.PURCH_AMT_5_mins = sum(&&&rule.purchase_amt_min);

if tcm_reversal_ind = 'N'
/*and _u_ind_001 = 'A' /*Approved*/
and &rule.PURCH_AMT_5_mins > 0.5*&rule.daily_ave
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Total value of purchase authorisations for a merchant in a short period of time is unusually high compared to daily average]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_purch_amt_min_4" FieldName="v01_num_00744_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_2" FieldName="v01_num_00264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_3" FieldName="v01_num_00272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_4" FieldName="v01_num_00280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_5" FieldName="v01_num_00288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_6" FieldName="v01_num_00296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_7" FieldName="v01_num_00304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_8" FieldName="v01_num_00312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_9" FieldName="v01_num_00320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_10" FieldName="v01_num_00328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_11" FieldName="v01_num_00336_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_12" FieldName="v01_num_00344_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_13" FieldName="v01_num_00352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_14" FieldName="v01_num_00360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_15" FieldName="v01_num_00368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_16" FieldName="v01_num_00376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_17" FieldName="v01_num_00384_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_18" FieldName="v01_num_00392_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_19" FieldName="v01_num_00400_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_20" FieldName="v01_num_00408_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_21" FieldName="v01_num_00416_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_22" FieldName="v01_num_00424_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_23" FieldName="v01_num_00432_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_24" FieldName="v01_num_00440_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_25" FieldName="v01_num_00448_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_26" FieldName="v01_num_00456_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_27" FieldName="v01_num_00464_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_28" FieldName="v01_num_00472_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_29" FieldName="v01_num_00480_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_30" FieldName="v01_num_00488_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_31" FieldName="v01_num_00496_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_amt_min_5" FieldName="v01_num_00704_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_amt_min_1" FieldName="v01_num_00712_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_amt_min_2" FieldName="v01_num_00728_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_amt_min_3" FieldName="v01_num_00736_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60158" baseRuleId="60158" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Change in Behaviour - Short Period - Purchase Volume - Daily Ave]]></name><code><![CDATA[/* Array storing volume of purchase authorisations for the merchant for last 30 days(not including current day)*/
%DeclareArray(&rule.daily_vol_array,_M_DAILY_PURCH_VOL_2 - _M_DAILY_PURCH_VOL_31);
/* Array storing volume of purchase authorisations for last 5 minutes (including current minute)*/
%DeclareArray(&rule.purchase_vol_min, _M_PURCH_VOL_MIN_1 - _M_PURCH_VOL_MIN_5);

&rule.daily_ave = sum(&&&rule.daily_vol_array)/30;
&rule.purch_vol_5min = sum(&&&rule.purchase_vol_min);

if tcm_reversal_ind = 'N'
/*and _u_ind_002 = 'A' /*Approved*/
and &rule.purch_vol_5min > 0.5*&rule.daily_ave
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Total volume of purchase authorisations for a merchant in a short period of time is unusually high compared to daily average]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_purch_vol_5" FieldName="v01_num_02376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_6" FieldName="v01_num_02128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_7" FieldName="v01_num_02136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_8" FieldName="v01_num_02144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_9" FieldName="v01_num_02152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_10" FieldName="v01_num_02160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_11" FieldName="v01_num_02168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_12" FieldName="v01_num_02176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_13" FieldName="v01_num_02184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_14" FieldName="v01_num_02192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_15" FieldName="v01_num_02200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_16" FieldName="v01_num_02208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_17" FieldName="v01_num_02216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_18" FieldName="v01_num_02224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_19" FieldName="v01_num_02232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_20" FieldName="v01_num_02240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_21" FieldName="v01_num_02248_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_22" FieldName="v01_num_02256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_23" FieldName="v01_num_02264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_24" FieldName="v01_num_02272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_25" FieldName="v01_num_02280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_vol_min_2" FieldName="v01_num_00656_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_26" FieldName="v01_num_02288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_vol_min_3" FieldName="v01_num_00664_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_27" FieldName="v01_num_02296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_vol_min_4" FieldName="v01_num_00672_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_28" FieldName="v01_num_02304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_vol_min_5" FieldName="v01_num_00680_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_29" FieldName="v01_num_02312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_30" FieldName="v01_num_02320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_vol_min_1" FieldName="v01_num_00696_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_31" FieldName="v01_num_02328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_2" FieldName="v01_num_02352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_3" FieldName="v01_num_02360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_4" FieldName="v01_num_02368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60159" baseRuleId="60159" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Change in Behaviour - Short Period - Purchase  Value - Weekly Ave]]></name><code><![CDATA[/* Array storing the value of purchase authorisations for the merchant for last 12 weeks(not including current week)*/
%DeclareArray(&rule.txn_week_amt, _M_WEEK_PURCH_AMT_2 - _M_WEEK_PURCH_AMT_13);
/* Array storing amount of purchase authorisations for last 5 minutes (including current minute)*/
%DeclareArray(&rule.txn_min_amt, _M_PURCH_AMT_MIN_1 - _M_PURCH_AMT_MIN_5);

&rule.weekly_ave = sum(&&&rule.txn_week_amt)/12;
&rule.purch_amt_5mins = sum(&&&rule.txn_min_amt);

if tcm_reversal_ind = 'N'
/*and _u_ind_002 = 'A' /*Approved*/
and &rule.purch_amt_5mins > 0.25*&rule.weekly_ave
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Total value of purchase authorisations for a merchant in a short period of time is unusually high compared to weekly average]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_purch_amt_min_4" FieldName="v01_num_00744_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_13" FieldName="v01_num_00864_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_2" FieldName="v01_num_00888_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_3" FieldName="v01_num_00896_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_4" FieldName="v01_num_00904_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_5" FieldName="v01_num_00912_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_6" FieldName="v01_num_00920_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_7" FieldName="v01_num_00928_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_8" FieldName="v01_num_00936_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_9" FieldName="v01_num_00944_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_10" FieldName="v01_num_00952_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_amt_min_5" FieldName="v01_num_00704_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_11" FieldName="v01_num_00960_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_amt_min_1" FieldName="v01_num_00712_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_12" FieldName="v01_num_00968_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_amt_min_2" FieldName="v01_num_00728_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_amt_min_3" FieldName="v01_num_00736_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60160" baseRuleId="60160" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Change in Behaviour - Short Period - Purchase Volume - Weekly Ave]]></name><code><![CDATA[/* Array storing volume of purchase authorisations for last 12 weeks (not including current week)*/
%DeclareArray(&rule.txn_week_vol, _M_WEEK_PURCH_VOL_2 - _M_WEEK_PURCH_VOL_13);
/* Array storing volume of purchase authorisations for last 5 minutes (including current minute)*/
%DeclareArray(&rule.txn_min_vol, _M_PURCH_VOL_MIN_1 - _M_PURCH_VOL_MIN_5);

&rule.weekly_ave = sum(&&&rule.txn_week_vol)/12;
&rule.purch_vol_5mins = sum(&&&rule.txn_min_vol);

if tcm_reversal_ind = 'N'
/*and _u_ind_002 = 'A' /*Approved*/
and &rule.purch_vol_5mins > &rule.weekly_ave
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Total volume of purchase authorisations for a merchant in a short period of time is unusually high compared to weekly average]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_week_purch_vol_8" FieldName="v01_num_00752_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_9" FieldName="v01_num_00760_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_10" FieldName="v01_num_00776_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_11" FieldName="v01_num_00784_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_12" FieldName="v01_num_00792_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_13" FieldName="v01_num_00800_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_2" FieldName="v01_num_00816_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_3" FieldName="v01_num_00824_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_4" FieldName="v01_num_00832_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_5" FieldName="v01_num_00840_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_6" FieldName="v01_num_00848_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_7" FieldName="v01_num_00856_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_vol_min_2" FieldName="v01_num_00656_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_vol_min_3" FieldName="v01_num_00664_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_vol_min_4" FieldName="v01_num_00672_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_vol_min_5" FieldName="v01_num_00680_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_purch_vol_min_1" FieldName="v01_num_00696_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60161" baseRuleId="60161" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Change in Behaviour - Daily - Purchase Value - Daily Ave]]></name><code><![CDATA[/* Array storing last 30 days of total value of purchase authorisations for the merchant (not including current day)*/
%DeclareArray(&rule.daily_amt_array,_M_DAILY_PURCH_AMT_2 - _M_DAILY_PURCH_AMT_31);

&rule.daily_ave = sum(&&&rule.daily_amt_array)/30;

if tcm_reversal_ind = 'N'
/*and _u_ind_002 = 'A' /*Approved*/
and _M_DAILY_PURCH_AMT_1 > 2*&rule.daily_ave
then do;
%Action_alert;
%Action_decline;
end;]]></code><desc><![CDATA[Total value of purchase authorisations  for a merchant in a day is higher than daily average]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_purch_amt_1" FieldName="v01_num_00256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_2" FieldName="v01_num_00264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_3" FieldName="v01_num_00272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_4" FieldName="v01_num_00280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_5" FieldName="v01_num_00288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_6" FieldName="v01_num_00296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_7" FieldName="v01_num_00304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_8" FieldName="v01_num_00312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_9" FieldName="v01_num_00320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_10" FieldName="v01_num_00328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_11" FieldName="v01_num_00336_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_12" FieldName="v01_num_00344_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_13" FieldName="v01_num_00352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_14" FieldName="v01_num_00360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_15" FieldName="v01_num_00368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_16" FieldName="v01_num_00376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_17" FieldName="v01_num_00384_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_18" FieldName="v01_num_00392_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_19" FieldName="v01_num_00400_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_20" FieldName="v01_num_00408_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_21" FieldName="v01_num_00416_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_22" FieldName="v01_num_00424_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_23" FieldName="v01_num_00432_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_24" FieldName="v01_num_00440_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_25" FieldName="v01_num_00448_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_26" FieldName="v01_num_00456_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_27" FieldName="v01_num_00464_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_28" FieldName="v01_num_00472_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_29" FieldName="v01_num_00480_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_30" FieldName="v01_num_00488_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_31" FieldName="v01_num_00496_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60162" baseRuleId="60162" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Change in Behaviour - Daily - Purchase Volume - Daily Ave]]></name><code><![CDATA[/* Array storing volume of purchase authorisations for the merchant for last 30 days(not including current day)*/
%DeclareArray(&rule.daily_vol_array,_M_DAILY_PURCH_VOL_2 - _M_DAILY_PURCH_VOL_31);

&rule.daily_ave = sum(&&&rule.daily_vol_array)/30;

if tcm_reversal_ind = 'N'
/*and _u_ind_002 = 'A' /*Approved*/
and _M_DAILY_PURCH_VOL_1 > 2*&rule.daily_ave
then do;
%Action_alert;
%Action_decline;
end;]]></code><desc><![CDATA[Total volume of purchase authorisations for a merchant in a day is higher than daily average]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_purch_vol_5" FieldName="v01_num_02376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_6" FieldName="v01_num_02128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_7" FieldName="v01_num_02136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_8" FieldName="v01_num_02144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_9" FieldName="v01_num_02152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_10" FieldName="v01_num_02160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_11" FieldName="v01_num_02168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_12" FieldName="v01_num_02176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_13" FieldName="v01_num_02184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_14" FieldName="v01_num_02192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_15" FieldName="v01_num_02200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_16" FieldName="v01_num_02208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_17" FieldName="v01_num_02216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_18" FieldName="v01_num_02224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_19" FieldName="v01_num_02232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_20" FieldName="v01_num_02240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_21" FieldName="v01_num_02248_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_22" FieldName="v01_num_02256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_23" FieldName="v01_num_02264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_24" FieldName="v01_num_02272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_25" FieldName="v01_num_02280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_26" FieldName="v01_num_02288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_27" FieldName="v01_num_02296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_28" FieldName="v01_num_02304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_29" FieldName="v01_num_02312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_30" FieldName="v01_num_02320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_31" FieldName="v01_num_02328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_1" FieldName="v01_num_02344_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_2" FieldName="v01_num_02352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_3" FieldName="v01_num_02360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_4" FieldName="v01_num_02368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60163" baseRuleId="60163" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Change in Behaviour - Abnormal Refund Value]]></name><code><![CDATA[/* Array storing the value of refunds for the merchant for last 6 months  (not including current month)*/
%DeclareArray(&rule.monthly_amt_array, _M_MONTHLY_REFUND_AMT_2 - _M_MONTHLY_REFUND_AMT_7);

&rule.daily_ave = sum(&&&rule.monthly_amt_array)/180;

if tcm_reversal_ind = 'F' /*refund*/
and _M_DAILY_REFUND_AMT_1 > 3*&rule.daily_ave
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Total value of refunds in a day is unusually high compared to the merchants average daily refund value]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_monthly_refund_amt_7" FieldName="v01_num_02024_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_refund_amt_2" FieldName="v01_num_02048_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_refund_amt_3" FieldName="v01_num_02056_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_1" FieldName="v01_num_01440_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_refund_amt_4" FieldName="v01_num_02000_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_refund_amt_5" FieldName="v01_num_02008_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_refund_amt_6" FieldName="v01_num_02016_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60164" baseRuleId="60164" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Change in Behaviour - Abnormal Refund Volume]]></name><code><![CDATA[/* Array storing volume of refunds for the merchant for last 6 months (not including current month)*/
%DeclareArray(&rule.MONTHLY_vol_array, _M_MONTHLY_REFUND_VOL_2 - _M_MONTHLY_REFUND_VOL_7);


&rule.daily_ave = sum(&&&rule.monthly_vol_array)/180;

if tcm_reversal_ind = 'F' /*refund*/
and _M_DAILY_REFUND_VOL_1 > 2*&rule.daily_ave
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Number of refunds in a day is unusually high compared to the merchants average daily refund volume]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_monthly_refund_vol_5" FieldName="v01_num_02064_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_refund_vol_6" FieldName="v01_num_02072_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_refund_vol_7" FieldName="v01_num_02080_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_refund_vol_2" FieldName="v01_num_02104_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_refund_vol_3" FieldName="v01_num_02112_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_1" FieldName="v01_num_01096_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_refund_vol_4" FieldName="v01_num_02120_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60165" baseRuleId="60165" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Change in Behaviour - Abnormal Reversal Value]]></name><code><![CDATA[/* Array to store value of reversals for the merchant for last 6 months(not including current month)*/
%DeclareArray(&rule.MONTHLY_amt_array, _M_MONTHLY_REV_AMT_2 - _M_MONTHLY_REV_AMT_7);


&rule.daily_ave = sum(&&&rule.monthly_amt_array)/180;

if tcm_reversal_ind = 'D' /*reversal*/
and _M_DAILY_REV_AMT_1 > &rule.daily_ave
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Total value of reversals in a day is unusually high compared to the merchants average daily reversal value]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_monthly_rev_amt_2" FieldName="v01_num_02400_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_rev_amt_3" FieldName="v01_num_02408_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_rev_amt_4" FieldName="v01_num_02416_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_rev_amt_5" FieldName="v01_num_02424_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_rev_amt_6" FieldName="v01_num_02432_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_rev_amt_7" FieldName="v01_num_02440_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_1" FieldName="v01_num_01744_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60166" baseRuleId="60166" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Change in Behaviour - Abnormal Reversal Volume]]></name><code><![CDATA[/* Array storing the volume of reversals for the merchant for last 6 months(not including current month)*/
%DeclareArray(&rule.MONTHLY_vol_array, _M_MONTHLY_REV_VOL_2 - _M_MONTHLY_REV_VOL_7);


&rule.daily_ave = sum(&&&rule.monthly_vol_array)/180;

if tcm_reversal_ind = 'D' /*reversal*/
and _M_DAILY_REV_VOL_1 > 2*&rule.daily_ave
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Number of reversals in a day is unusually high compared to the merchants average daily reversal volume]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_monthly_rev_vol_7" FieldName="v01_num_02504_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_1" FieldName="v01_num_01600_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_rev_vol_2" FieldName="v01_num_02464_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_rev_vol_3" FieldName="v01_num_02472_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_rev_vol_4" FieldName="v01_num_02480_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_rev_vol_5" FieldName="v01_num_02488_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_rev_vol_6" FieldName="v01_num_02496_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60167" baseRuleId="60167" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Creditmaster]]></name><code><![CDATA[if ucm_pos in ('00','01','81','8E','8F')
and ucm_card_present = '1' /*card not present*/
then do;

  if
     /* each transaction is made with a different card*/
     (
      COMPRESS(hqm_payment_id) ne COMPRESS(_t_CM_Card_2)
      and COMPRESS(hqm_payment_id) ne COMPRESS(_t_CM_Card_3)
      and COMPRESS(hqm_payment_id) ne COMPRESS(_t_CM_Card_4)
      and COMPRESS(hqm_payment_id) ne COMPRESS(_t_CM_Card_5)
      and COMPRESS(_t_CM_Card_2) ne COMPRESS(_t_CM_Card_3)
      and COMPRESS(_t_CM_Card_2) ne COMPRESS(_t_CM_Card_4)
      and COMPRESS(_t_CM_Card_2) ne COMPRESS(_t_CM_Card_5)
      and COMPRESS(_t_CM_Card_3) ne COMPRESS(_t_CM_Card_4)
      and COMPRESS(_t_CM_Card_3) ne COMPRESS(_t_CM_Card_5)
      and COMPRESS(_t_CM_Card_4) ne COMPRESS(_t_CM_Card_5)
  )
/*Card range is the same for all transactions*/

  and substr(hqm_payment_id,1,12) = SUBSTR(_t_CM_Card_2,1,12)
  and substr(hqm_payment_id,1,12) = SUBSTR(_t_CM_Card_3,1,12)
  and substr(hqm_payment_id,1,12) = SUBSTR(_t_CM_Card_4,1,12)
  and substr(hqm_payment_id,1,12) = SUBSTR(_t_CM_Card_5,1,12)

/*Amount is the same for all transactions*/
  and tcm_mer_amt = _t_CM_Amount_2
  and tcm_mer_amt = _t_CM_Amount_3
  and tcm_mer_amt = _t_CM_Amount_4
  and tcm_mer_amt = _t_CM_Amount_5

/*Expiry Date is the same for all transactions*/
  and ucm_msg_exp_date = _t_CM_Tran_Expiry_2
  and ucm_msg_exp_date = _t_CM_Tran_Expiry_3
  and ucm_msg_exp_date = _t_CM_Tran_Expiry_4
  and ucm_msg_exp_date = _t_CM_Tran_Expiry_5

/*DateTime is within 1 hour*/
 and dhms(rqo_tran_date,0,0,rqo_tran_time)
          - _t_CM_Date_Time_5 <= hms(0,5,0)

  then do;
  %Action_decline;
  %Action_Alert;
  end;
end;]]></code><desc><![CDATA[BIN Attack where a fraudster attempts transactions with generated card numbers based off of a genuine BIN and expiry date.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_t_cm_tran_expiry_5" FieldName="v06_num_00768_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Date" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_card_2" FieldName="v06_str_00336_080" InitialValue="" FieldDesc="Variable in Terminal" FieldLength="80" VariableType="Character" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_card_3" FieldName="v06_str_00416_080" InitialValue="" FieldDesc="Variable in Terminal" FieldLength="80" VariableType="Character" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_card_4" FieldName="v06_str_00496_080" InitialValue="" FieldDesc="Variable in Terminal" FieldLength="80" VariableType="Character" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_card_5" FieldName="v06_str_00576_080" InitialValue="" FieldDesc="Variable in Terminal" FieldLength="80" VariableType="Character" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_amount_2" FieldName="v06_num_00664_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_amount_3" FieldName="v06_num_00672_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_amount_4" FieldName="v06_num_00680_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_amount_5" FieldName="v06_num_00688_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_date_time_5" FieldName="v06_num_00728_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_tran_expiry_2" FieldName="v06_num_00744_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Date" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_tran_expiry_3" FieldName="v06_num_00752_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Date" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_cm_tran_expiry_4" FieldName="v06_num_00760_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="Date" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60168" baseRuleId="60168" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Change in Behaviour - Abnormal Credit Voucher Value]]></name><code><![CDATA[/* Array storing the total value of credit vouchers for the merchant for last 6 months(not including current month)*/

%DeclareArray(&rule.monthly_amt_array, _M_MONTHLY_CV_AMT_2 - _M_MONTHLY_CV_AMT_7);

&rule.daily_ave = sum(&&&rule.monthly_amt_array)/180;

if tcm_reversal_ind = 'C' /*credit vouchers*/
and _M_DAILY_CV_AMT_1 > 2*&rule.daily_ave
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Total value of credit vouchers in a day is unusually high compared to the merchants average daily credit voucher value]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_cv_amt_1" FieldName="v01_num_02640_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_amt_2" FieldName="v01_num_02776_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_amt_3" FieldName="v01_num_02784_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_amt_4" FieldName="v01_num_02792_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_amt_5" FieldName="v01_num_02800_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_amt_6" FieldName="v01_num_02808_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_amt_7" FieldName="v01_num_02816_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60169" baseRuleId="60169" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Change in Behaviour - Abnormal Credit Voucher Volume]]></name><code><![CDATA[/* Array storing the total volume of credit vouchers from the merchant for last 6 months (not including current month)*/
%DeclareArray(&rule.monthly_vol_array, _M_MONTHLY_CV_VOL_2 - _M_MONTHLY_CV_VOL_7);

&rule.daily_ave = sum(&&&rule.monthly_vol_array)/180;

if tcm_reversal_ind = 'C' /*credit voucher*/
and _M_DAILY_CV_VOL_1 > 2*&rule.daily_ave
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Number of credit vouchers in a day is unusually high compared to the merchants average daily credit voucher volume]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_monthly_cv_vol_7" FieldName="v01_num_03144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_1" FieldName="v01_num_03032_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_vol_2" FieldName="v01_num_03104_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_vol_3" FieldName="v01_num_03112_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_vol_4" FieldName="v01_num_03120_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_vol_5" FieldName="v01_num_03128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_cv_vol_6" FieldName="v01_num_03136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60170" baseRuleId="60170" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="BF - Suspect Merchants" executionOrderType="0"><name><![CDATA[Change in Behaviour - Abnormal Posting Value]]></name><code><![CDATA[/* Array storing the total value of postings for the merchant for last 6 months (not including current month)*/
%DeclareArray(&rule.monthly_amt_array, _M_MONTHLY_POST_AMT_2 - _M_MONTHLY_POST_AMT_7);

&rule.daily_ave = sum(&&&rule.monthly_amt_array)/180;

if _M_DAILY_POST_AMT_1 > 2*&rule.daily_ave
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Total value of postings is higher than the merchants average monthly posting value]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[M]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="B"/><component componentField="smh_cust_type" componentValue="I"/><component componentField="smh_acct_type" componentValue="CS"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="C"/><component componentField="smh_channel_type" componentValue="D"/><component componentField="smh_channel_type" componentValue="E"/><component componentField="smh_activity_type" componentValue="CP"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DPD"/><component componentField="smh_activity_detail1" componentValue="DUA"/><VariableList><Variable FieldBusinessName="_m_monthly_post_amt_6" FieldName="v01_num_00616_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_amt_7" FieldName="v01_num_00624_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_amt_1" FieldName="v01_num_03168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_amt_2" FieldName="v01_num_00584_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_amt_3" FieldName="v01_num_00592_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_amt_4" FieldName="v01_num_00600_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_amt_5" FieldName="v01_num_00608_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60171" baseRuleId="60171" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="BF - Suspect Merchants" executionOrderType="0"><name><![CDATA[Change in Behaviour - Abnormal Posting Volume]]></name><code><![CDATA[/* Array storing the total volume of posting from the merchant for last 6 months (not including current month)*/
%DeclareArray(&rule.monthly_vol_array, _M_MONTHLY_POST_VOL_2 - _M_MONTHLY_POST_VOL_7);

&rule.daily_ave = sum(&&&rule.monthly_vol_array)/180;

if _M_DAILY_POST_VOL_1 > 2*&rule.daily_ave
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Number of postings in a day is unusually high compared to the merchants average daily posting volume]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[M]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="B"/><component componentField="smh_cust_type" componentValue="I"/><component componentField="smh_acct_type" componentValue="CS"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="C"/><component componentField="smh_channel_type" componentValue="D"/><component componentField="smh_channel_type" componentValue="E"/><component componentField="smh_activity_type" componentValue="CP"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DPD"/><component componentField="smh_activity_detail1" componentValue="DUA"/><VariableList><Variable FieldBusinessName="_m_daily_post_vol_1" FieldName="v01_num_03408_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_vol_2" FieldName="v01_num_03672_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_vol_3" FieldName="v01_num_03680_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_vol_4" FieldName="v01_num_03688_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_vol_5" FieldName="v01_num_03704_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_vol_6" FieldName="v01_num_03712_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_post_vol_7" FieldName="v01_num_03720_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60172" baseRuleId="60172" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="BF - Suspect Merchants" executionOrderType="0"><name><![CDATA[High Volume of Cash Withdrawals]]></name><code><![CDATA[/* Array storing volume of cash withdrawals for a card for the last 5 minutes (including current minute)*/
%DeclareArray(&rule.withdrawal_vol, _H_CASH_VOL_1 - _H_CASH_VOL_5);


if aqm_mer_mcc = '6011'
and tcm_client_tran_type = 'CW' /*cash withdrawal*/
/*and _u_ind_002 = 'A' /*Approved*/
and sum(&&&rule.withdrawal_vol) > 10
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[High volume of cash withdrawals on a card in a short period of time.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_h_cash_vol_1" FieldName="v07_num_00096_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_vol_2" FieldName="v07_num_00104_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_vol_3" FieldName="v07_num_00112_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_vol_4" FieldName="v07_num_00120_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_vol_5" FieldName="v07_num_00128_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60173" baseRuleId="60173" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[High Value of Cash Withdrawals]]></name><code><![CDATA[/* Array storing amount of cash withdrawals for a card for the last 5 minutes (including current minute)*/
%DeclareArray(&rule.cash_txn_amt, _H_CASH_AMT_1 - _H_CASH_AMT_5);

if aqm_mer_mcc = '6011'
and tcm_client_tran_type = 'CW' /*cash withdrawal*/
/*and _u_ind_002 = 'A' /*Approved*/
and sum(&&&rule.cash_txn_amt) > 400
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[High value of cash withdrawals on a card in a short period of time.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_h_cash_amt_4" FieldName="v07_num_00152_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_amt_5" FieldName="v07_num_00160_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_amt_1" FieldName="v07_num_00176_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_amt_2" FieldName="v07_num_00184_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_amt_3" FieldName="v07_num_00144_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60174" baseRuleId="60174" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[High Volume of Cash Withdrawals - Declines]]></name><code><![CDATA[/* Array storing volume of all declined cash withdrawals for a card last 5 minutes ( including current minute)*/
%DeclareArray(&rule.cash_txn_vol, _H_CASH_DEC_VOL_1 - _H_CASH_DEC_VOL_5);

if aqm_mer_mcc = '6011'
and tcm_client_tran_type = 'CW' /*cash withdrawal*/
and _u_ind_002 = 'D' /*Declined*/
and sum(&&&rule.cash_txn_vol) > 10
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[High volume of cash withdrawal declines on a card in a short period of time.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_h_cash_dec_vol_1" FieldName="v07_num_00192_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_dec_vol_2" FieldName="v07_num_00200_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_dec_vol_3" FieldName="v07_num_00208_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_dec_vol_4" FieldName="v07_num_00216_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_dec_vol_5" FieldName="v07_num_00224_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_u_ind_002" FieldName="rua_ind_002" InitialValue="" FieldDesc="Indicator/flag field" FieldLength="1" VariableType="Character" SegmentKeyFieldNames="" SegmentKeyFieldBusinessNames="" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60175" baseRuleId="60175" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[High Value of Cash Withdrawals - Declines]]></name><code><![CDATA[/* Array store value of all declined cash withdrawals for a card last 5 minutes ( including current minute)*/
%DeclareArray(&rule.cash_txn_amt, _H_CASH_DEC_AMT_1 - _H_CASH_DEC_AMT_5);

if aqm_mer_mcc = '6011'
and tcm_client_tran_type = 'CW' /*cash withdrawal*/
and _u_ind_002 = 'D' /*Declined*/
and sum(&&&rule.cash_txn_amt) > 400
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[High value of cash withdrawal declines on a card in a short period of time.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_h_cash_dec_amt_4" FieldName="v07_num_00280_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_dec_amt_5" FieldName="v07_num_00240_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_dec_amt_1" FieldName="v07_num_00256_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_dec_amt_2" FieldName="v07_num_00264_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_h_cash_dec_amt_3" FieldName="v07_num_00272_008" InitialValue="0" FieldDesc="Variable in Card" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="hqm_payment_id" SegmentKeyFieldBusinessNames="hqm_payment_id" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_u_ind_002" FieldName="rua_ind_002" InitialValue="" FieldDesc="Indicator/flag field" FieldLength="1" VariableType="Character" SegmentKeyFieldNames="" SegmentKeyFieldBusinessNames="" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60176" baseRuleId="60176" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Unusual Volume of Overseas Card Purchases]]></name><code><![CDATA[/* Array storing volume of overseas card purchases at the merchant for 7 months(including current month)*/
%DeclareArray(&rule.monthly_vol_array, _M_MONTHLY_OS_VOL_1 - _M_MONTHLY_OS_VOL_7);

&rule.daily_ave = sum(&&&rule.monthly_vol_array) - _M_OS_COUNT/209;
&rule.BIN = substr(hqm_payment_method,1,6);

if tcm_reversal_ind = 'N'
/* and _u_ind_002  = 'A' /*Approved*/
and not %ListContains(domestic_bins,&rule.bin) /*overseas card*/
and _M_OS_COUNT > 2*&rule.daily_ave
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Number of overseas card purchases higher than average]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_monthly_os_vol_1" FieldName="v01_num_03728_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_2" FieldName="v01_num_03736_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_3" FieldName="v01_num_03744_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_4" FieldName="v01_num_03752_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_5" FieldName="v01_num_03760_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_6" FieldName="v01_num_03768_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_7" FieldName="v01_num_03776_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_os_count" FieldName="v01_num_03800_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60177" baseRuleId="60177" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Unusual Volume of Overseas Card Purchases - No History]]></name><code><![CDATA[/* Array storing volume of overseas card purchases at the merchant for 7 months(including current month)*/
%DeclareArray(&rule.monthly_vol_array, _M_MONTHLY_OS_VOL_1 - _M_MONTHLY_OS_VOL_7);

&rule.os_history = sum(&&&rule.monthly_vol_array) - _M_OS_COUNT;
&rule.BIN = substr(hqm_payment_method,1,6);

if tcm_reversal_ind = 'N'
/* and _u_ind_002  = 'A' /*Approved*/
and not %ListContains(domestic_bins,&rule.bin) /*overseas card*/
and &rule.os_history = 0 /* no overseas history */
and _M_OS_COUNT > 50
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Total number of overseas card purchase authorisations is high and the merchant has no history of overseas card purchases.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_monthly_os_vol_1" FieldName="v01_num_03728_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_2" FieldName="v01_num_03736_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_3" FieldName="v01_num_03744_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_4" FieldName="v01_num_03752_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_5" FieldName="v01_num_03760_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_6" FieldName="v01_num_03768_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_7" FieldName="v01_num_03776_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_os_count" FieldName="v01_num_03800_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60178" baseRuleId="60178" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Unusual Value of Overseas Card Purchases - No History]]></name><code><![CDATA[/* Array storing volume of overseas card purchases at the merchant for 7 months(including current month)*/
%DeclareArray(&rule.monthly_vol_array, _M_MONTHLY_OS_VOL_1 - _M_MONTHLY_OS_VOL_7);

&rule.os_history = sum(&&&rule.monthly_vol_array) - _M_OS_COUNT;
&rule.BIN = substr(hqm_payment_method,1,6);

if tcm_reversal_ind = 'N'
/* and _u_ind_002  = 'A' /*Approved*/
and not %ListContains(domestic_bins,&rule.bin) /*overseas card*/
and &rule.os_history = 0 /* no overseas history */
and _M_OS_AMT > 5000
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Total value of overseas card purchase authorisations is high and the merchant has no history of overseas card purchases.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_monthly_os_vol_1" FieldName="v01_num_03728_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_2" FieldName="v01_num_03736_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_3" FieldName="v01_num_03744_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_4" FieldName="v01_num_03752_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_5" FieldName="v01_num_03760_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_6" FieldName="v01_num_03768_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_os_vol_7" FieldName="v01_num_03776_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_os_count" FieldName="v01_num_03800_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_os_amt" FieldName="v01_num_03808_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60179" baseRuleId="60179" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[High Total Value of Purchases - Short Merchant Dormancy]]></name><code><![CDATA[/* Array storing volume of transactions for the merchant for last 30 days(including current day)*/
%DeclareArray(&rule.daily_vol_array, _M_DAILY_NUMBER_2 - _M_DAILY_NUMBER_31);

&rule.txn_history = sum(&&&rule.daily_vol_array);

if tcm_reversal_ind = 'N'
and &rule.txn_history = 0 /* no txns in last 30 days */
and _M_DAILY_PURCH_AMT_1 > 3000
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[High value of daily purchases where merchant is dormant for a number of days]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_purch_amt_1" FieldName="v01_num_00256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_2" FieldName="v01_num_00008_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_3" FieldName="v01_num_00016_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_4" FieldName="v01_num_00024_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_5" FieldName="v01_num_00032_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_6" FieldName="v01_num_00040_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_7" FieldName="v01_num_00048_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_8" FieldName="v01_num_00056_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_9" FieldName="v01_num_00064_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_10" FieldName="v01_num_00072_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_11" FieldName="v01_num_00080_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_12" FieldName="v01_num_00088_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_13" FieldName="v01_num_00096_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_14" FieldName="v01_num_00104_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_15" FieldName="v01_num_00112_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_16" FieldName="v01_num_00120_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_17" FieldName="v01_num_00128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_18" FieldName="v01_num_00136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_19" FieldName="v01_num_00144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_20" FieldName="v01_num_00152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_21" FieldName="v01_num_00160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_22" FieldName="v01_num_00168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_23" FieldName="v01_num_00176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_24" FieldName="v01_num_00184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_25" FieldName="v01_num_00192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_26" FieldName="v01_num_00200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_27" FieldName="v01_num_00208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_28" FieldName="v01_num_00216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_29" FieldName="v01_num_00224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_30" FieldName="v01_num_00232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_31" FieldName="v01_num_00240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60180" baseRuleId="60180" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[High Volume of Purchases - Short Merchant Dormancy]]></name><code><![CDATA[/* Array storing volume of transactions for the merchant for last 30 days(including current day)*/
%DeclareArray(&rule.daily_vol_array, _M_DAILY_NUMBER_2 - _M_DAILY_NUMBER_31);


&rule.txn_history = sum(&&&rule.daily_vol_array);

if tcm_reversal_ind = 'N'
and &rule.txn_history = 0 /* no txns in last 30 days */
and _M_DAILY_PURCH_VOL_1 > 200
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[High volume of daily purchases where merchant is dormant for a number of days]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_number_2" FieldName="v01_num_00008_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_3" FieldName="v01_num_00016_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_4" FieldName="v01_num_00024_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_5" FieldName="v01_num_00032_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_6" FieldName="v01_num_00040_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_7" FieldName="v01_num_00048_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_8" FieldName="v01_num_00056_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_9" FieldName="v01_num_00064_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_10" FieldName="v01_num_00072_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_11" FieldName="v01_num_00080_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_12" FieldName="v01_num_00088_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_13" FieldName="v01_num_00096_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_14" FieldName="v01_num_00104_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_15" FieldName="v01_num_00112_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_16" FieldName="v01_num_00120_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_17" FieldName="v01_num_00128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_18" FieldName="v01_num_00136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_19" FieldName="v01_num_00144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_20" FieldName="v01_num_00152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_21" FieldName="v01_num_00160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_22" FieldName="v01_num_00168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_23" FieldName="v01_num_00176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_24" FieldName="v01_num_00184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_25" FieldName="v01_num_00192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_26" FieldName="v01_num_00200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_27" FieldName="v01_num_00208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_28" FieldName="v01_num_00216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_29" FieldName="v01_num_00224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_30" FieldName="v01_num_00232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_31" FieldName="v01_num_00240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_1" FieldName="v01_num_02344_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60181" baseRuleId="60181" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[High Total Value of Refunds - Short Merchant Dormancy]]></name><code><![CDATA[/* Array storing volume of transactions for the merchant for last 30 days(including current day)*/
%DeclareArray(&rule.daily_vol_array, _M_DAILY_NUMBER_2 - _M_DAILY_NUMBER_31);

&rule.txn_history = sum(&&&rule.daily_vol_array);

if tcm_reversal_ind = 'F' /*refund*/
and &rule.txn_history = 0 /* no txns in last 30 days */
and _M_DAILY_REFUND_AMT_1 > 1000
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[High value of daily refunds where merchant is dormant for a number of days]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_number_2" FieldName="v01_num_00008_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_3" FieldName="v01_num_00016_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_4" FieldName="v01_num_00024_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_5" FieldName="v01_num_00032_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_6" FieldName="v01_num_00040_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_7" FieldName="v01_num_00048_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_8" FieldName="v01_num_00056_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_9" FieldName="v01_num_00064_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_10" FieldName="v01_num_00072_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_11" FieldName="v01_num_00080_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_12" FieldName="v01_num_00088_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_13" FieldName="v01_num_00096_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_14" FieldName="v01_num_00104_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_15" FieldName="v01_num_00112_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_16" FieldName="v01_num_00120_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_17" FieldName="v01_num_00128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_18" FieldName="v01_num_00136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_19" FieldName="v01_num_00144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_20" FieldName="v01_num_00152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_21" FieldName="v01_num_00160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_22" FieldName="v01_num_00168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_23" FieldName="v01_num_00176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_24" FieldName="v01_num_00184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_25" FieldName="v01_num_00192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_26" FieldName="v01_num_00200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_27" FieldName="v01_num_00208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_28" FieldName="v01_num_00216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_29" FieldName="v01_num_00224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_30" FieldName="v01_num_00232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_31" FieldName="v01_num_00240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_1" FieldName="v01_num_01440_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60182" baseRuleId="60182" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[High Volume of Refunds - Short Merchant Dormancy]]></name><code><![CDATA[/* Array storing volume of transactions for the merchant for last 30 days(including current day)*/
%DeclareArray(&rule.daily_vol_array, _M_DAILY_NUMBER_2 - _M_DAILY_NUMBER_31);


&rule.txn_history = sum(&&&rule.daily_vol_array);

if tcm_reversal_ind = 'F' /*refund*/
and &rule.txn_history = 0 /* no txns in last 30 days */
and _M_DAILY_REFUND_VOL_1 > 50
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[ High volume of daily refunds where merchant is dormant for a number of days]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_refund_vol_1" FieldName="v01_num_01096_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_2" FieldName="v01_num_00008_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_3" FieldName="v01_num_00016_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_4" FieldName="v01_num_00024_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_5" FieldName="v01_num_00032_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_6" FieldName="v01_num_00040_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_7" FieldName="v01_num_00048_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_8" FieldName="v01_num_00056_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_9" FieldName="v01_num_00064_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_10" FieldName="v01_num_00072_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_11" FieldName="v01_num_00080_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_12" FieldName="v01_num_00088_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_13" FieldName="v01_num_00096_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_14" FieldName="v01_num_00104_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_15" FieldName="v01_num_00112_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_16" FieldName="v01_num_00120_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_17" FieldName="v01_num_00128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_18" FieldName="v01_num_00136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_19" FieldName="v01_num_00144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_20" FieldName="v01_num_00152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_21" FieldName="v01_num_00160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_22" FieldName="v01_num_00168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_23" FieldName="v01_num_00176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_24" FieldName="v01_num_00184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_25" FieldName="v01_num_00192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_26" FieldName="v01_num_00200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_27" FieldName="v01_num_00208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_28" FieldName="v01_num_00216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_29" FieldName="v01_num_00224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_30" FieldName="v01_num_00232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_31" FieldName="v01_num_00240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60183" baseRuleId="60183" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[High Total Value of Reversals - Short Merchant Dormancy]]></name><code><![CDATA[/* Array storing volume of transactions for the merchant for last 30 days(including current day)*/
%DeclareArray(&rule.daily_vol_array, _M_DAILY_NUMBER_2 - _M_DAILY_NUMBER_31);


&rule.txn_history = sum(&&&rule.daily_vol_array);

if tcm_reversal_ind = 'D' /*reversal*/
and &rule.txn_history = 0 /* no txns in last 30 days */
and _M_DAILY_REV_AMT_1 >1000
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[High value of daily reversals where merchant is dormant for a number of days]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_number_2" FieldName="v01_num_00008_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_3" FieldName="v01_num_00016_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_4" FieldName="v01_num_00024_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_5" FieldName="v01_num_00032_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_6" FieldName="v01_num_00040_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_7" FieldName="v01_num_00048_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_1" FieldName="v01_num_01744_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_8" FieldName="v01_num_00056_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_9" FieldName="v01_num_00064_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_10" FieldName="v01_num_00072_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_11" FieldName="v01_num_00080_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_12" FieldName="v01_num_00088_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_13" FieldName="v01_num_00096_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_14" FieldName="v01_num_00104_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_15" FieldName="v01_num_00112_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_16" FieldName="v01_num_00120_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_17" FieldName="v01_num_00128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_18" FieldName="v01_num_00136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_19" FieldName="v01_num_00144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_20" FieldName="v01_num_00152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_21" FieldName="v01_num_00160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_22" FieldName="v01_num_00168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_23" FieldName="v01_num_00176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_24" FieldName="v01_num_00184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_25" FieldName="v01_num_00192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_26" FieldName="v01_num_00200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_27" FieldName="v01_num_00208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_28" FieldName="v01_num_00216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_29" FieldName="v01_num_00224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_30" FieldName="v01_num_00232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_31" FieldName="v01_num_00240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60184" baseRuleId="60184" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[High Volume of Reversals - Short Merchant Dormancy]]></name><code><![CDATA[/* Array storing volume of transactions for the merchant for last 30 days(including current day)*/
%DeclareArray(&rule.daily_vol_array, _M_DAILY_NUMBER_2 - _M_DAILY_NUMBER_31);

&rule.txn_history = sum(&&&rule.daily_vol_array);

if tcm_reversal_ind = 'D' /*reversal*/
and &rule.txn_history = 0 /* no txns in last 30 days */
and _M_DAILY_REV_VOL_1 > 50
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[High volume of daily reversals where merchant is dormant for a number of days]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_rev_vol_1" FieldName="v01_num_01600_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_2" FieldName="v01_num_00008_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_3" FieldName="v01_num_00016_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_4" FieldName="v01_num_00024_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_5" FieldName="v01_num_00032_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_6" FieldName="v01_num_00040_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_7" FieldName="v01_num_00048_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_8" FieldName="v01_num_00056_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_9" FieldName="v01_num_00064_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_10" FieldName="v01_num_00072_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_11" FieldName="v01_num_00080_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_12" FieldName="v01_num_00088_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_13" FieldName="v01_num_00096_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_14" FieldName="v01_num_00104_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_15" FieldName="v01_num_00112_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_16" FieldName="v01_num_00120_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_17" FieldName="v01_num_00128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_18" FieldName="v01_num_00136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_19" FieldName="v01_num_00144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_20" FieldName="v01_num_00152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_21" FieldName="v01_num_00160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_22" FieldName="v01_num_00168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_23" FieldName="v01_num_00176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_24" FieldName="v01_num_00184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_25" FieldName="v01_num_00192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_26" FieldName="v01_num_00200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_27" FieldName="v01_num_00208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_28" FieldName="v01_num_00216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_29" FieldName="v01_num_00224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_30" FieldName="v01_num_00232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_31" FieldName="v01_num_00240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60185" baseRuleId="60185" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[High Total Value of Purchases - Long Merchant Dormancy]]></name><code><![CDATA[/* Array storing the volume of transactions for the merchant for last 7 months (including current month)*/
%DeclareArray(&rule.monthly_vol_array, _M_MONTHLY_TXN_VOL_1 - _M_MONTHLY_TXN_VOL_7);

&rule.txn_history = sum(&&&rule.monthly_vol_array)-_M_DAILY_NUMBER_1;

if tcm_reversal_ind = 'N'
and &rule.txn_history = 0 /* no txns in last 209 days */
and _M_DAILY_PURCH_AMT_1 > 2000
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[High total value of purchases in a short period of time when a merchant has been dormant for months]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_monthly_txn_vol_5" FieldName="v01_num_03848_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_txn_vol_6" FieldName="v01_num_03856_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_txn_vol_7" FieldName="v01_num_03864_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_1" FieldName="v01_num_00256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_1" FieldName="v01_num_00000_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_txn_vol_1" FieldName="v01_num_03816_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_txn_vol_2" FieldName="v01_num_03824_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_txn_vol_3" FieldName="v01_num_03832_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_txn_vol_4" FieldName="v01_num_03840_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60186" baseRuleId="60186" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[High Total Value of Refunds - Long Merchant Dormancy]]></name><code><![CDATA[/* Array storing the volume of transactions for the merchant for last 7 months (including current month)*/
%DeclareArray(&rule.monthly_vol_array, _M_MONTHLY_TXN_VOL_1 - _M_MONTHLY_TXN_VOL_7);

&rule.txn_history = sum(&&&rule.monthly_vol_array)-_M_DAILY_NUMBER_1;

if tcm_reversal_ind = 'F' /*refund*/
and &rule.txn_history = 0 /* no txns in last 209 days */
and _M_DAILY_REFUND_AMT_1 > 500
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[High total value of refunds in a short period of time when a merchant has been dormant for months]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_monthly_txn_vol_5" FieldName="v01_num_03848_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_txn_vol_6" FieldName="v01_num_03856_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_txn_vol_7" FieldName="v01_num_03864_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_1" FieldName="v01_num_00000_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_1" FieldName="v01_num_01440_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_txn_vol_1" FieldName="v01_num_03816_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_txn_vol_2" FieldName="v01_num_03824_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_txn_vol_3" FieldName="v01_num_03832_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_txn_vol_4" FieldName="v01_num_03840_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60187" baseRuleId="60187" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[New Address]]></name><code><![CDATA[if TNG_TRAN_TYPE = 'GA' /*address change*/
and (DUA_20BYTE_STRING_001 ne DUA_20BYTE_STRING_002 /* new address city ne old address city*/
or DUA_10BYTE_STRING_001 ne DUA_10BYTE_STRING_002) /* new address post code ne old address post code*/
then
%Action_Alert;]]></code><desc><![CDATA[Merchant has a new city or post code]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="NA"/><component componentField="smh_channel_type" componentValue="N"/><component componentField="smh_activity_type" componentValue="NM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DNX"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DCH"/><VariableList/></Rule><Rule ruleId="60188" baseRuleId="60188" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Refund Transactions GT PurchaseTransactions - Daily Volume]]></name><code><![CDATA[/* Array storing volume of purchase authorisations for the merchant for the last 30 days(including current day)*/
%DeclareArray(&rule.daily_vol_array, _M_DAILY_PURCH_VOL_2 - _M_DAILY_PURCH_VOL_31);

&rule.ave_purch_vol = sum(&&&rule.daily_vol_array)/30;

if tcm_reversal_ind = 'F' /*refund*/
and _M_DAILY_REFUND_VOL_1 > 0.5*&rule.ave_purch_vol
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Count of merchant daily refund transactions is a high compared to the merchant average daily purchase transactions.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_purch_vol_5" FieldName="v01_num_02376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_1" FieldName="v01_num_01096_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_6" FieldName="v01_num_02128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_7" FieldName="v01_num_02136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_8" FieldName="v01_num_02144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_9" FieldName="v01_num_02152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_10" FieldName="v01_num_02160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_11" FieldName="v01_num_02168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_12" FieldName="v01_num_02176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_13" FieldName="v01_num_02184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_14" FieldName="v01_num_02192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_15" FieldName="v01_num_02200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_16" FieldName="v01_num_02208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_17" FieldName="v01_num_02216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_18" FieldName="v01_num_02224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_19" FieldName="v01_num_02232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_20" FieldName="v01_num_02240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_21" FieldName="v01_num_02248_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_22" FieldName="v01_num_02256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_23" FieldName="v01_num_02264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_24" FieldName="v01_num_02272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_25" FieldName="v01_num_02280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_26" FieldName="v01_num_02288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_27" FieldName="v01_num_02296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_28" FieldName="v01_num_02304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_29" FieldName="v01_num_02312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_30" FieldName="v01_num_02320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_31" FieldName="v01_num_02328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_2" FieldName="v01_num_02352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_3" FieldName="v01_num_02360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_4" FieldName="v01_num_02368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60189" baseRuleId="60189" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Refund Transactions GT PurchaseTransactions - Daily Value]]></name><code><![CDATA[/* Array storing amount of purchase authorisations for the merchant for the last 30 days(including current day)*/
%DeclareArray(&rule.daily_amt_array, _M_DAILY_PURCH_AMT_2 - _M_DAILY_PURCH_AMT_31);

&rule.ave_purch_amt = sum(&&&rule.daily_amt_array)/30;

if tcm_reversal_ind = 'F' /*refund*/
and _M_DAILY_REFUND_AMT_1 > 0.5*&rule.ave_purch_amt
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Amount of merchant daily refund transactions is a high compared to the merchant average daily purchase transactions.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_purch_amt_2" FieldName="v01_num_00264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_3" FieldName="v01_num_00272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_4" FieldName="v01_num_00280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_5" FieldName="v01_num_00288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_6" FieldName="v01_num_00296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_7" FieldName="v01_num_00304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_8" FieldName="v01_num_00312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_9" FieldName="v01_num_00320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_10" FieldName="v01_num_00328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_11" FieldName="v01_num_00336_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_12" FieldName="v01_num_00344_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_13" FieldName="v01_num_00352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_14" FieldName="v01_num_00360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_15" FieldName="v01_num_00368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_16" FieldName="v01_num_00376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_17" FieldName="v01_num_00384_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_18" FieldName="v01_num_00392_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_19" FieldName="v01_num_00400_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_20" FieldName="v01_num_00408_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_21" FieldName="v01_num_00416_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_22" FieldName="v01_num_00424_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_23" FieldName="v01_num_00432_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_24" FieldName="v01_num_00440_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_25" FieldName="v01_num_00448_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_26" FieldName="v01_num_00456_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_27" FieldName="v01_num_00464_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_28" FieldName="v01_num_00472_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_29" FieldName="v01_num_00480_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_30" FieldName="v01_num_00488_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_31" FieldName="v01_num_00496_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_1" FieldName="v01_num_01440_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60190" baseRuleId="60190" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Credit Vouchers GT Purchase Transactions - Daily Volume]]></name><code><![CDATA[/* Array storing volume of purchase authorisations for the merchant for the last 30 days(including current day)*/
%DeclareArray(&rule.daily_vol_array, _M_DAILY_PURCH_VOL_2 - _M_DAILY_PURCH_VOL_31);

&rule.ave_purch_vol = sum(&&&rule.daily_vol_array)/30;

if tcm_reversal_ind = 'C' /*credit voucher*/
and _M_DAILY_CV_VOL_1 > 0.5*&rule.ave_purch_vol
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Count of merchant credit voucher transactions is high compared to the merchant average daily purchase transactions.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_purch_vol_5" FieldName="v01_num_02376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_1" FieldName="v01_num_03032_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_6" FieldName="v01_num_02128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_7" FieldName="v01_num_02136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_8" FieldName="v01_num_02144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_9" FieldName="v01_num_02152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_10" FieldName="v01_num_02160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_11" FieldName="v01_num_02168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_12" FieldName="v01_num_02176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_13" FieldName="v01_num_02184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_14" FieldName="v01_num_02192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_15" FieldName="v01_num_02200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_16" FieldName="v01_num_02208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_17" FieldName="v01_num_02216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_18" FieldName="v01_num_02224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_19" FieldName="v01_num_02232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_20" FieldName="v01_num_02240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_21" FieldName="v01_num_02248_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_22" FieldName="v01_num_02256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_23" FieldName="v01_num_02264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_24" FieldName="v01_num_02272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_25" FieldName="v01_num_02280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_26" FieldName="v01_num_02288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_27" FieldName="v01_num_02296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_28" FieldName="v01_num_02304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_29" FieldName="v01_num_02312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_30" FieldName="v01_num_02320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_31" FieldName="v01_num_02328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_2" FieldName="v01_num_02352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_3" FieldName="v01_num_02360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_4" FieldName="v01_num_02368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60191" baseRuleId="60191" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Credit Vouchers GT Purchase Transactions - Daily Value]]></name><code><![CDATA[/*Array storing amount of purchase authorisations for the merchant for the last 30 days(including current day)*/
%DeclareArray(&rule.daily_amt_array, _M_DAILY_PURCH_AMT_2 - _M_DAILY_PURCH_AMT_31);

&rule.ave_purch_amt = sum(&&&rule.daily_amt_array)/30;

if tcm_reversal_ind = 'C' /*credit voucher*/
and _M_DAILY_CV_AMT_1 > 0.5*&rule.ave_purch_amt
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Amount of merchant credit voucher transactions is high compared to the merchant average daily purchase transactions.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_purch_amt_2" FieldName="v01_num_00264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_3" FieldName="v01_num_00272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_4" FieldName="v01_num_00280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_5" FieldName="v01_num_00288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_6" FieldName="v01_num_00296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_7" FieldName="v01_num_00304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_8" FieldName="v01_num_00312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_9" FieldName="v01_num_00320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_10" FieldName="v01_num_00328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_11" FieldName="v01_num_00336_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_12" FieldName="v01_num_00344_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_13" FieldName="v01_num_00352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_14" FieldName="v01_num_00360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_15" FieldName="v01_num_00368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_16" FieldName="v01_num_00376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_17" FieldName="v01_num_00384_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_18" FieldName="v01_num_00392_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_19" FieldName="v01_num_00400_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_20" FieldName="v01_num_00408_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_21" FieldName="v01_num_00416_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_22" FieldName="v01_num_00424_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_23" FieldName="v01_num_00432_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_24" FieldName="v01_num_00440_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_25" FieldName="v01_num_00448_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_26" FieldName="v01_num_00456_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_27" FieldName="v01_num_00464_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_28" FieldName="v01_num_00472_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_29" FieldName="v01_num_00480_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_30" FieldName="v01_num_00488_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_31" FieldName="v01_num_00496_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_1" FieldName="v01_num_02640_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60192" baseRuleId="60192" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[ High Value of Refunds - No purchases]]></name><code><![CDATA[/* Array storing amount of purchase authorisations for the merchant for 31 days(including current day)*/
%DeclareArray(&rule.daily_amt_array, _M_DAILY_PURCH_AMT_1 - _M_DAILY_PURCH_AMT_31);

&rule.purchase_history = sum(&&&rule.daily_amt_array);

if tcm_reversal_ind = 'F' /*refund*/
and &rule.purchase_history = 0 /* no purchases*/
and _M_DAILY_REFUND_AMT_1 > 500
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[High total value of daily refunds without purchases in last month]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_purch_amt_1" FieldName="v01_num_00256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_2" FieldName="v01_num_00264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_3" FieldName="v01_num_00272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_4" FieldName="v01_num_00280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_5" FieldName="v01_num_00288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_6" FieldName="v01_num_00296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_7" FieldName="v01_num_00304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_8" FieldName="v01_num_00312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_9" FieldName="v01_num_00320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_10" FieldName="v01_num_00328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_11" FieldName="v01_num_00336_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_12" FieldName="v01_num_00344_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_13" FieldName="v01_num_00352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_14" FieldName="v01_num_00360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_15" FieldName="v01_num_00368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_16" FieldName="v01_num_00376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_17" FieldName="v01_num_00384_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_18" FieldName="v01_num_00392_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_19" FieldName="v01_num_00400_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_20" FieldName="v01_num_00408_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_21" FieldName="v01_num_00416_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_22" FieldName="v01_num_00424_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_23" FieldName="v01_num_00432_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_24" FieldName="v01_num_00440_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_25" FieldName="v01_num_00448_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_26" FieldName="v01_num_00456_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_27" FieldName="v01_num_00464_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_28" FieldName="v01_num_00472_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_29" FieldName="v01_num_00480_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_30" FieldName="v01_num_00488_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_31" FieldName="v01_num_00496_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_amt_1" FieldName="v01_num_01440_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60193" baseRuleId="60193" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[ High Value of Reversals - No purchases]]></name><code><![CDATA[/* Array storing amount of purchase authorisations for the merchant for 31 days(including current day)*/
%DeclareArray(&rule.daily_amt_array, _M_DAILY_PURCH_AMT_1 - _M_DAILY_PURCH_AMT_31);

&rule.purchase_history = sum(&&&rule.daily_amt_array);

if tcm_reversal_ind = 'D' /*reversal*/
and &rule.purchase_history = 0 /* no purchases*/
and _M_DAILY_REV_AMT_1 > 500
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[High total value of daily reversals without purchases in last month]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_purch_amt_1" FieldName="v01_num_00256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_2" FieldName="v01_num_00264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_3" FieldName="v01_num_00272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_4" FieldName="v01_num_00280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_5" FieldName="v01_num_00288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_6" FieldName="v01_num_00296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_7" FieldName="v01_num_00304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_8" FieldName="v01_num_00312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_9" FieldName="v01_num_00320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_10" FieldName="v01_num_00328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_11" FieldName="v01_num_00336_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_12" FieldName="v01_num_00344_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_13" FieldName="v01_num_00352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_14" FieldName="v01_num_00360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_15" FieldName="v01_num_00368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_16" FieldName="v01_num_00376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_17" FieldName="v01_num_00384_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_18" FieldName="v01_num_00392_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_19" FieldName="v01_num_00400_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_20" FieldName="v01_num_00408_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_21" FieldName="v01_num_00416_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_22" FieldName="v01_num_00424_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_23" FieldName="v01_num_00432_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_24" FieldName="v01_num_00440_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_25" FieldName="v01_num_00448_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_26" FieldName="v01_num_00456_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_27" FieldName="v01_num_00464_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_amt_1" FieldName="v01_num_01744_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_28" FieldName="v01_num_00472_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_29" FieldName="v01_num_00480_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_30" FieldName="v01_num_00488_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_31" FieldName="v01_num_00496_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60194" baseRuleId="60194" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[ High Value of Credit Vouchers - No purchases]]></name><code><![CDATA[/* Array storing amount of purchase authorisations for the merchant for 31 days(including current day)*/
%DeclareArray(&rule.daily_amt_array, _M_DAILY_PURCH_AMT_1 - _M_DAILY_PURCH_AMT_31);

&rule.purchase_history = sum(&&&rule.daily_amt_array);

if tcm_reversal_ind = 'C' /*credit voucher*/
and &rule.purchase_history = 0 /* no purchases*/
and _M_DAILY_CV_AMT_1 > 500
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[High total value of daily credit vouchers without purchases in last month]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_purch_amt_1" FieldName="v01_num_00256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_2" FieldName="v01_num_00264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_3" FieldName="v01_num_00272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_4" FieldName="v01_num_00280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_5" FieldName="v01_num_00288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_6" FieldName="v01_num_00296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_7" FieldName="v01_num_00304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_8" FieldName="v01_num_00312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_9" FieldName="v01_num_00320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_10" FieldName="v01_num_00328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_11" FieldName="v01_num_00336_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_12" FieldName="v01_num_00344_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_13" FieldName="v01_num_00352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_14" FieldName="v01_num_00360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_15" FieldName="v01_num_00368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_16" FieldName="v01_num_00376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_17" FieldName="v01_num_00384_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_18" FieldName="v01_num_00392_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_19" FieldName="v01_num_00400_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_20" FieldName="v01_num_00408_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_21" FieldName="v01_num_00416_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_22" FieldName="v01_num_00424_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_23" FieldName="v01_num_00432_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_24" FieldName="v01_num_00440_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_25" FieldName="v01_num_00448_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_26" FieldName="v01_num_00456_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_27" FieldName="v01_num_00464_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_28" FieldName="v01_num_00472_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_29" FieldName="v01_num_00480_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_30" FieldName="v01_num_00488_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_amt_31" FieldName="v01_num_00496_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_amt_1" FieldName="v01_num_02640_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60195" baseRuleId="60195" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[ High Volume of Refunds - No purchases]]></name><code><![CDATA[/* Array storing volume of purchase authorisations for the merchant for 31 days(including current day)*/
%DeclareArray(&rule.daily_vol_array, _M_DAILY_PURCH_VOL_1 - _M_DAILY_PURCH_VOL_31);

&rule.purchase_history = sum(&&&rule.daily_vol_array);

if tcm_reversal_ind = 'F' /*refund*/
and &rule.purchase_history = 0 /* no purchases*/
and _M_DAILY_REFUND_VOL_1 > 50
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[High total volume of daily refunds without purchases in last month]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_purch_vol_5" FieldName="v01_num_02376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_refund_vol_1" FieldName="v01_num_01096_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_6" FieldName="v01_num_02128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_7" FieldName="v01_num_02136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_8" FieldName="v01_num_02144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_9" FieldName="v01_num_02152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_10" FieldName="v01_num_02160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_11" FieldName="v01_num_02168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_12" FieldName="v01_num_02176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_13" FieldName="v01_num_02184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_14" FieldName="v01_num_02192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_15" FieldName="v01_num_02200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_16" FieldName="v01_num_02208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_17" FieldName="v01_num_02216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_18" FieldName="v01_num_02224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_19" FieldName="v01_num_02232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_20" FieldName="v01_num_02240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_21" FieldName="v01_num_02248_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_22" FieldName="v01_num_02256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_23" FieldName="v01_num_02264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_24" FieldName="v01_num_02272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_25" FieldName="v01_num_02280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_26" FieldName="v01_num_02288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_27" FieldName="v01_num_02296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_28" FieldName="v01_num_02304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_29" FieldName="v01_num_02312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_30" FieldName="v01_num_02320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_31" FieldName="v01_num_02328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_1" FieldName="v01_num_02344_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_2" FieldName="v01_num_02352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_3" FieldName="v01_num_02360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_4" FieldName="v01_num_02368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60196" baseRuleId="60196" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[ High Volume of Reversals - No purchases]]></name><code><![CDATA[/* Array storing volume of purchase authorisations for the merchant for 31 days(including current day)*/
%DeclareArray(&rule.daily_vol_array,_M_DAILY_PURCH_VOL_1 - _M_DAILY_PURCH_VOL_31);

&rule.purchase_history = sum(&&&rule.daily_vol_array);

if tcm_reversal_ind = 'D' /*reversal*/
and &rule.purchase_history = 0 /* no purchases*/
and _M_DAILY_REV_VOL_1 > 50
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[High total volume of  daily reversals without purchases in last month]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_purch_vol_5" FieldName="v01_num_02376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_rev_vol_1" FieldName="v01_num_01600_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_6" FieldName="v01_num_02128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_7" FieldName="v01_num_02136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_8" FieldName="v01_num_02144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_9" FieldName="v01_num_02152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_10" FieldName="v01_num_02160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_11" FieldName="v01_num_02168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_12" FieldName="v01_num_02176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_13" FieldName="v01_num_02184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_14" FieldName="v01_num_02192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_15" FieldName="v01_num_02200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_16" FieldName="v01_num_02208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_17" FieldName="v01_num_02216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_18" FieldName="v01_num_02224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_19" FieldName="v01_num_02232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_20" FieldName="v01_num_02240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_21" FieldName="v01_num_02248_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_22" FieldName="v01_num_02256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_23" FieldName="v01_num_02264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_24" FieldName="v01_num_02272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_25" FieldName="v01_num_02280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_26" FieldName="v01_num_02288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_27" FieldName="v01_num_02296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_28" FieldName="v01_num_02304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_29" FieldName="v01_num_02312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_30" FieldName="v01_num_02320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_31" FieldName="v01_num_02328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_1" FieldName="v01_num_02344_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_2" FieldName="v01_num_02352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_3" FieldName="v01_num_02360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_4" FieldName="v01_num_02368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60197" baseRuleId="60197" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[High Volume of Credit Vouchers - No purchases]]></name><code><![CDATA[/* Array storing volume of purchase authorisations for the merchant for 31 days(including current day)*/
%DeclareArray(&rule.daily_vol_array,_M_DAILY_PURCH_VOL_1 - _M_DAILY_PURCH_VOL_31);


&rule.purchase_history = sum(&&&rule.daily_vol_array);

if tcm_reversal_ind = 'C' /*credit voucher*/
and &rule.purchase_history = 0 /* no purchases*/
and _M_DAILY_CV_VOL_1 > 50
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[High total volume of credit vouchers without purchases in last month]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_purch_vol_5" FieldName="v01_num_02376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cv_vol_1" FieldName="v01_num_03032_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_6" FieldName="v01_num_02128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_7" FieldName="v01_num_02136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_8" FieldName="v01_num_02144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_9" FieldName="v01_num_02152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_10" FieldName="v01_num_02160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_11" FieldName="v01_num_02168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_12" FieldName="v01_num_02176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_13" FieldName="v01_num_02184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_14" FieldName="v01_num_02192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_15" FieldName="v01_num_02200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_16" FieldName="v01_num_02208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_17" FieldName="v01_num_02216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_18" FieldName="v01_num_02224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_19" FieldName="v01_num_02232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_20" FieldName="v01_num_02240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_21" FieldName="v01_num_02248_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_22" FieldName="v01_num_02256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_23" FieldName="v01_num_02264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_24" FieldName="v01_num_02272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_25" FieldName="v01_num_02280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_26" FieldName="v01_num_02288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_27" FieldName="v01_num_02296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_28" FieldName="v01_num_02304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_29" FieldName="v01_num_02312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_30" FieldName="v01_num_02320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_31" FieldName="v01_num_02328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_1" FieldName="v01_num_02344_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_2" FieldName="v01_num_02352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_3" FieldName="v01_num_02360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_4" FieldName="v01_num_02368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60198" baseRuleId="60198" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[High Chargebacks]]></name><code><![CDATA[/* Array storing volume of purchase authorisations for last 6 months ( not including current month)*/
%DeclareArray(&rule.monthly_vol_array, _M_MONTHLY_PURCH_VOL_2 - _M_MONTHLY_PURCH_VOL_7);

&rule.daily_ave = sum(&&&rule.monthly_vol_array)/180;

if tng_tran_type = 'C' /*chargeback*/
and _M_CHARGEBACK_AMT > 1000
and _M_CHARGEBACK_COUNT > 0.2*&rule.daily_ave
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[High total value of chargebacks and a high proportion of purchases are charged back.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="NA"/><component componentField="smh_channel_type" componentValue="N"/><component componentField="smh_activity_type" componentValue="NM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DNX"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DCH"/><VariableList><Variable FieldBusinessName="_m_chargeback_amt" FieldName="v01_num_03880_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_chargeback_count" FieldName="v01_num_03888_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_vol_2" FieldName="v01_num_03920_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_vol_3" FieldName="v01_num_03928_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_vol_4" FieldName="v01_num_03936_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_vol_5" FieldName="v01_num_03944_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_vol_6" FieldName="v01_num_03952_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_monthly_purch_vol_7" FieldName="v01_num_03960_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60199" baseRuleId="60199" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Refund Transactions GT Purchase Transactions - Weekly Volume]]></name><code><![CDATA[/* Array storing volume of purchase authorisations for last 12 weeks (not including current week)*/
%DeclareArray(&rule.weekly_vol_array, _M_WEEK_PURCH_VOL_2 - _M_WEEK_PURCH_VOL_13);

&rule.ave_purch_vol = sum(&&&rule.weekly_vol_array)/12;

if tcm_reversal_ind = 'F' /*refund*/
and _M_WEEK_REFUND_VOL_1 > 0.5*&rule.ave_purch_vol
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Count of merchant weekly refund transactions is a high compared to the merchant average weekly purchase transactions.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_week_purch_vol_8" FieldName="v01_num_00752_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_9" FieldName="v01_num_00760_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_10" FieldName="v01_num_00776_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_11" FieldName="v01_num_00784_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_12" FieldName="v01_num_00792_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_13" FieldName="v01_num_00800_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_2" FieldName="v01_num_00816_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_3" FieldName="v01_num_00824_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_4" FieldName="v01_num_00832_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_5" FieldName="v01_num_00840_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_6" FieldName="v01_num_00848_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_7" FieldName="v01_num_00856_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_vol_1" FieldName="v01_num_04184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60200" baseRuleId="60200" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Refund Transactions GT Purchase Transactions - Weekly Value]]></name><code><![CDATA[/* Array storing the value of purchase authorisations for the merchant for the last 12 weeks(not including current week)*/
%DeclareArray(&rule.weekly_amt_array, _M_WEEK_PURCH_AMT_2 - _M_WEEK_PURCH_AMT_13);

&rule.ave_purch_amt = sum(&&&rule.weekly_amt_array)/12;

if tcm_reversal_ind = 'F' /*refund*/
and _M_WEEK_REFUND_AMT_1 > 0.5*&rule.ave_purch_amt
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Amount of merchant weekly refund transactions is a high compared to the merchant weekly purchase transactions.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_week_purch_amt_13" FieldName="v01_num_00864_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_2" FieldName="v01_num_00888_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_3" FieldName="v01_num_00896_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_4" FieldName="v01_num_00904_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_5" FieldName="v01_num_00912_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_6" FieldName="v01_num_00920_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_7" FieldName="v01_num_00928_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_8" FieldName="v01_num_00936_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_9" FieldName="v01_num_00944_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_10" FieldName="v01_num_00952_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_11" FieldName="v01_num_00960_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_12" FieldName="v01_num_00968_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_refund_amt_1" FieldName="v01_num_03968_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60201" baseRuleId="60201" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Credit Vouchers GT Purchase Transactions - Weekly Volume]]></name><code><![CDATA[/* Array to store volume of purchase authorisations for last 12 weeks (not including current WEEK)*/
%DeclareArray(&rule.weekly_vol_array, _M_WEEK_PURCH_VOL_2 - _M_WEEK_PURCH_VOL_13);

&rule.ave_purch_vol = sum(&&&rule.weekly_vol_array)/12;

if tcm_reversal_ind = 'C' /*credit vouchers*/
and _M_WEEK_CV_VOL_1 > 0.5*&rule.ave_purch_vol
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Count of merchant credit voucher transactions is high compared to the merchant average weekly purchase transactions.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_week_purch_vol_8" FieldName="v01_num_00752_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_9" FieldName="v01_num_00760_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_10" FieldName="v01_num_00776_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_11" FieldName="v01_num_00784_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_12" FieldName="v01_num_00792_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_13" FieldName="v01_num_00800_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_2" FieldName="v01_num_00816_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_3" FieldName="v01_num_00824_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_4" FieldName="v01_num_00832_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_5" FieldName="v01_num_00840_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_6" FieldName="v01_num_00848_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_vol_7" FieldName="v01_num_00856_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_vol_1" FieldName="v01_num_04376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60202" baseRuleId="60202" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Credit Vouchers GT Purchase Transactions - Weekly Value]]></name><code><![CDATA[/* Array storing the value of purchase authorisations for the merchant for last 12 weeks(not including current week)*/
%DeclareArray(&rule.weekly_amt_array, _M_WEEK_PURCH_AMT_2 - _M_WEEK_PURCH_AMT_13);

&rule.ave_purch_amt = sum(&&&rule.weekly_amt_array)/12;

if tcm_reversal_ind = 'C' /*credit vouchers*/
and _M_WEEK_CV_AMT_1 > 0.5*&rule.ave_purch_amt
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Amount of merchant credit voucher transactions is high compared to the merchant weekly purchase transactions.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_week_purch_amt_13" FieldName="v01_num_00864_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_2" FieldName="v01_num_00888_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_3" FieldName="v01_num_00896_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_4" FieldName="v01_num_00904_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_5" FieldName="v01_num_00912_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_6" FieldName="v01_num_00920_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_7" FieldName="v01_num_00928_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_8" FieldName="v01_num_00936_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_9" FieldName="v01_num_00944_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_10" FieldName="v01_num_00952_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_cv_amt_1" FieldName="v01_num_04192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_11" FieldName="v01_num_00960_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_week_purch_amt_12" FieldName="v01_num_00968_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60214" baseRuleId="60214" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Change in Behaviour - Abnormal Purchase Type Volume - CNP]]></name><code><![CDATA[/* Array storing volume of CNP purchase authorisations for the merchant for last 30 days(not including current day)*/
%DeclareArray(&rule.daily_CNP_array,_M_DAILY_CNP_VOL_2 - _M_DAILY_CNP_VOL_31);
/* Array storing volume of CP purchase authorisations for the merchant for last 30 days(not including current day)*/
%DeclareArray(&rule.daily_CP_array,_M_DAILY_CP_VOL_2 - _M_DAILY_CP_VOL_31);

&rule.CNP_vol = sum(&&&rule.daily_CNP_array);
&rule.CP_vol = sum(&&&rule.daily_CP_array);
&rule.CNP_ave_vol = sum(&&&rule.daily_CNP_array)/30;

/*Highest proportion of transactions made to merchant are CP and CNP transactions are x% higher than average */
if &rule.CP_vol > 2*&rule.CNP_vol /*at least 2/3rds of purchaes are CP*/
and _M_DAILY_CNP_VOL_1 > 2*&rule.CNP_ave_vol
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Merchant is typically a CP merchant and the number of CNP purchases is much higher than usual]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_cnp_vol_1" FieldName="v01_num_05720_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_2" FieldName="v01_num_05728_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_3" FieldName="v01_num_05736_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_4" FieldName="v01_num_05744_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_5" FieldName="v01_num_05752_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_6" FieldName="v01_num_05760_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_7" FieldName="v01_num_05768_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_8" FieldName="v01_num_05776_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_9" FieldName="v01_num_05784_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_10" FieldName="v01_num_05792_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_11" FieldName="v01_num_05800_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_12" FieldName="v01_num_05808_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_13" FieldName="v01_num_05816_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_14" FieldName="v01_num_05824_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_15" FieldName="v01_num_05832_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_16" FieldName="v01_num_05840_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_17" FieldName="v01_num_05848_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_18" FieldName="v01_num_05856_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_19" FieldName="v01_num_05864_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_20" FieldName="v01_num_05872_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_21" FieldName="v01_num_05880_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_22" FieldName="v01_num_05888_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_23" FieldName="v01_num_05896_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_24" FieldName="v01_num_05904_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_25" FieldName="v01_num_05912_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_26" FieldName="v01_num_05920_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_27" FieldName="v01_num_05928_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_28" FieldName="v01_num_05936_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_29" FieldName="v01_num_05944_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_30" FieldName="v01_num_05952_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cnp_vol_31" FieldName="v01_num_05960_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_2" FieldName="v01_num_05968_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_3" FieldName="v01_num_05976_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_4" FieldName="v01_num_05984_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_5" FieldName="v01_num_05992_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_6" FieldName="v01_num_06000_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_7" FieldName="v01_num_06008_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_8" FieldName="v01_num_06016_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_9" FieldName="v01_num_06024_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_10" FieldName="v01_num_06032_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_11" FieldName="v01_num_06040_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_12" FieldName="v01_num_06048_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_13" FieldName="v01_num_06056_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_14" FieldName="v01_num_06064_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_15" FieldName="v01_num_06072_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_16" FieldName="v01_num_06080_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_17" FieldName="v01_num_06088_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_18" FieldName="v01_num_06096_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_19" FieldName="v01_num_06104_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_20" FieldName="v01_num_06112_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_21" FieldName="v01_num_06120_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_22" FieldName="v01_num_06128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_23" FieldName="v01_num_06136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_24" FieldName="v01_num_06144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_25" FieldName="v01_num_06152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_26" FieldName="v01_num_06160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_27" FieldName="v01_num_06168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_28" FieldName="v01_num_06176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_29" FieldName="v01_num_06184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_30" FieldName="v01_num_06192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_cp_vol_31" FieldName="v01_num_06200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60215" baseRuleId="60215" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Change in Behaviour - Abnormal Purchase POS Type Volume - Mag Stripe]]></name><code><![CDATA[/*Array storing volume of Mag Stripe purchase authorisations for the merchant for last 30 days(not including current day)*/
%DeclareArray(&rule.daily_mag_array,_M_DAILY_MAG_VOL_2 - _M_DAILY_MAG_VOL_31);
/*Array storing volume of chip purchase authorisations for the merchant for last 30 days(not including current day)*/
%DeclareArray(&rule.daily_chip_array,_M_DAILY_CHIP_VOL_2 - _M_DAILY_CHIP_VOL_31);
/* Array storing volume of purchase authorisations for the merchant for the last 30 days(including current day)*/
%DeclareArray(&rule.daily_vol_array, _M_DAILY_PURCH_VOL_2 - _M_DAILY_PURCH_VOL_31);

&rule.purchase_vol = sum(&&&rule.daily_vol_array);
&rule.magstripe_vol = sum(&&&rule.daily_mag_array);
&rule.chip_vol = sum(&&&rule.daily_chip_array);
&rule.magstripe_ave_vol = sum(&&&rule.daily_mag_array)/30;

if tcm_reversal_ind ='N'
/*and _u_ind_002 = 'A' /*Approved*/
and ucm_pos in ('90','80')
and &rule.chip_vol > 0.6*&rule.purchase_vol /*more than 60% of purchases in last 30 days are chip and pin*/
and _M_DAILY_MAG_VOL_1 > 2*&rule.magstripe_ave_vol
then do;
%action_decline;
%action_alert;
end;]]></code><desc><![CDATA[Merchant typically receives chip and pin purchases and the number of mag stripe purchases is higher than usual.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_purch_vol_5" FieldName="v01_num_02376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_2" FieldName="v01_num_04608_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_3" FieldName="v01_num_04616_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_4" FieldName="v01_num_04624_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_5" FieldName="v01_num_04632_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_6" FieldName="v01_num_04640_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_7" FieldName="v01_num_04648_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_8" FieldName="v01_num_04656_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_9" FieldName="v01_num_04664_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_10" FieldName="v01_num_04672_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_11" FieldName="v01_num_04680_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_12" FieldName="v01_num_04688_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_13" FieldName="v01_num_04696_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_14" FieldName="v01_num_04704_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_15" FieldName="v01_num_04712_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_16" FieldName="v01_num_04720_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_17" FieldName="v01_num_04728_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_18" FieldName="v01_num_04736_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_19" FieldName="v01_num_04744_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_20" FieldName="v01_num_04752_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_21" FieldName="v01_num_04760_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_22" FieldName="v01_num_04768_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_23" FieldName="v01_num_04776_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_24" FieldName="v01_num_04784_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_25" FieldName="v01_num_04792_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_26" FieldName="v01_num_04800_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_27" FieldName="v01_num_04808_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_28" FieldName="v01_num_04816_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_29" FieldName="v01_num_04824_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_30" FieldName="v01_num_04832_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_31" FieldName="v01_num_04840_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_1" FieldName="v01_num_04856_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_2" FieldName="v01_num_04864_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_3" FieldName="v01_num_04872_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_4" FieldName="v01_num_04880_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_5" FieldName="v01_num_04888_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_6" FieldName="v01_num_04896_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_7" FieldName="v01_num_04904_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_8" FieldName="v01_num_04912_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_9" FieldName="v01_num_04920_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_10" FieldName="v01_num_04928_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_11" FieldName="v01_num_04936_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_12" FieldName="v01_num_04944_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_13" FieldName="v01_num_04952_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_14" FieldName="v01_num_04960_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_15" FieldName="v01_num_04968_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_16" FieldName="v01_num_04976_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_17" FieldName="v01_num_04984_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_18" FieldName="v01_num_04992_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_19" FieldName="v01_num_05000_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_20" FieldName="v01_num_05008_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_6" FieldName="v01_num_02128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_21" FieldName="v01_num_05016_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_7" FieldName="v01_num_02136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_22" FieldName="v01_num_05024_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_8" FieldName="v01_num_02144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_23" FieldName="v01_num_05032_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_9" FieldName="v01_num_02152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_24" FieldName="v01_num_05040_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_10" FieldName="v01_num_02160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_25" FieldName="v01_num_05048_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_11" FieldName="v01_num_02168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_26" FieldName="v01_num_05056_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_12" FieldName="v01_num_02176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_27" FieldName="v01_num_05064_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_13" FieldName="v01_num_02184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_28" FieldName="v01_num_05072_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_14" FieldName="v01_num_02192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_29" FieldName="v01_num_05080_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_15" FieldName="v01_num_02200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_30" FieldName="v01_num_05088_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_16" FieldName="v01_num_02208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_mag_vol_31" FieldName="v01_num_05096_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_17" FieldName="v01_num_02216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_18" FieldName="v01_num_02224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_19" FieldName="v01_num_02232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_20" FieldName="v01_num_02240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_21" FieldName="v01_num_02248_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_22" FieldName="v01_num_02256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_23" FieldName="v01_num_02264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_24" FieldName="v01_num_02272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_25" FieldName="v01_num_02280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_26" FieldName="v01_num_02288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_27" FieldName="v01_num_02296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_28" FieldName="v01_num_02304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_29" FieldName="v01_num_02312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_30" FieldName="v01_num_02320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_31" FieldName="v01_num_02328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_2" FieldName="v01_num_02352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_3" FieldName="v01_num_02360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_4" FieldName="v01_num_02368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60216" baseRuleId="60216" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Change in Behaviour - Abnormal Purchase POS Type Volume - Keyed]]></name><code><![CDATA[/* Array storing volume of keyed purchase authorisations for the merchant for 31 days(including current day)*/
%DeclareArray(&rule.daily_keyed_array,_M_DAILY_KEY_VOL_1 - _M_DAILY_KEY_VOL_31);
/*Array storing volume of chip purchase authorisations for the merchant for last 30 days(not including current day)*/
%DeclareArray(&rule.daily_chip_array,_M_DAILY_CHIP_VOL_2 - _M_DAILY_CHIP_VOL_31);
/* Array storing volume of purchase authorisations for the merchant for the last 30 days(including current day)*/
%DeclareArray(&rule.daily_vol_array, _M_DAILY_PURCH_VOL_2 - _M_DAILY_PURCH_VOL_31);

&rule.purchase_vol = sum(&&&rule.daily_vol_array);
&rule.keyed_vol = sum(&&&rule.daily_keyed_array);
&rule.chip_vol = sum(&&&rule.daily_chip_array);
&rule.keyed_ave_vol = sum(&&&rule.daily_keyed_array)/30;

if tcm_reversal_ind ='N'
/*and _u_ind_002 = 'A' /*Approved*/
and ucm_pos in ('01','79')
and &rule.chip_vol > 0.6*&rule.purchase_vol /*more than 60% of purchases in last 30 days are chip and pin*/
and _M_DAILY_KEY_VOL_1 > 2*&rule.keyed_ave_vol
then do;
%action_decline;
%action_alert;
end;]]></code><desc><![CDATA[Merchant typically receives chip and pin purchases and the number of keyed purchases is higher than usual.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_purch_vol_5" FieldName="v01_num_02376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_10" FieldName="v01_num_04416_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_11" FieldName="v01_num_04424_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_12" FieldName="v01_num_04432_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_13" FieldName="v01_num_04440_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_14" FieldName="v01_num_04448_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_15" FieldName="v01_num_04456_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_16" FieldName="v01_num_04464_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_17" FieldName="v01_num_04472_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_18" FieldName="v01_num_04480_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_19" FieldName="v01_num_04488_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_20" FieldName="v01_num_04496_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_21" FieldName="v01_num_04504_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_22" FieldName="v01_num_04512_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_23" FieldName="v01_num_04520_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_24" FieldName="v01_num_04528_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_25" FieldName="v01_num_04536_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_26" FieldName="v01_num_04544_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_27" FieldName="v01_num_04552_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_28" FieldName="v01_num_04560_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_29" FieldName="v01_num_04568_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_30" FieldName="v01_num_04576_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_31" FieldName="v01_num_04584_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_2" FieldName="v01_num_04608_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_3" FieldName="v01_num_04616_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_4" FieldName="v01_num_04624_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_5" FieldName="v01_num_04632_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_6" FieldName="v01_num_04640_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_7" FieldName="v01_num_04648_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_8" FieldName="v01_num_04656_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_9" FieldName="v01_num_04664_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_10" FieldName="v01_num_04672_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_11" FieldName="v01_num_04680_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_12" FieldName="v01_num_04688_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_13" FieldName="v01_num_04696_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_14" FieldName="v01_num_04704_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_15" FieldName="v01_num_04712_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_16" FieldName="v01_num_04720_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_17" FieldName="v01_num_04728_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_18" FieldName="v01_num_04736_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_19" FieldName="v01_num_04744_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_20" FieldName="v01_num_04752_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_21" FieldName="v01_num_04760_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_22" FieldName="v01_num_04768_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_23" FieldName="v01_num_04776_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_24" FieldName="v01_num_04784_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_25" FieldName="v01_num_04792_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_26" FieldName="v01_num_04800_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_27" FieldName="v01_num_04808_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_28" FieldName="v01_num_04816_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_29" FieldName="v01_num_04824_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_30" FieldName="v01_num_04832_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_chip_vol_31" FieldName="v01_num_04840_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_6" FieldName="v01_num_02128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_7" FieldName="v01_num_02136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_8" FieldName="v01_num_02144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_9" FieldName="v01_num_02152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_10" FieldName="v01_num_02160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_11" FieldName="v01_num_02168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_12" FieldName="v01_num_02176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_13" FieldName="v01_num_02184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_14" FieldName="v01_num_02192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_15" FieldName="v01_num_02200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_16" FieldName="v01_num_02208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_17" FieldName="v01_num_02216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_18" FieldName="v01_num_02224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_1" FieldName="v01_num_05112_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_19" FieldName="v01_num_02232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_2" FieldName="v01_num_05120_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_20" FieldName="v01_num_02240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_3" FieldName="v01_num_05128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_21" FieldName="v01_num_02248_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_4" FieldName="v01_num_05136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_22" FieldName="v01_num_02256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_5" FieldName="v01_num_05144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_23" FieldName="v01_num_02264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_6" FieldName="v01_num_05152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_24" FieldName="v01_num_02272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_7" FieldName="v01_num_05160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_25" FieldName="v01_num_02280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_8" FieldName="v01_num_05168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_26" FieldName="v01_num_02288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_key_vol_9" FieldName="v01_num_05176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_27" FieldName="v01_num_02296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_28" FieldName="v01_num_02304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_29" FieldName="v01_num_02312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_30" FieldName="v01_num_02320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_31" FieldName="v01_num_02328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_2" FieldName="v01_num_02352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_3" FieldName="v01_num_02360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_4" FieldName="v01_num_02368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60217" baseRuleId="60217" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[High Value Posting followed by withdrawals]]></name><code><![CDATA[/*Array storing the date and time of last 3 withdrawals at either ATM/Branch*/
%DeclareArray(&rule.withdrawals_dt ,_m_withdrawal_dt_1 - _m_withdrawal_dt_3);

if ((smh_activity_type = 'CA' /*card authorisation*/
 and hct_mer_mcc = '6011'/*ATM*/
 and tca_auth_sys_dec = '1' /*Approved*/
 and tca_reversal_ind = 'N')
or
   (smh_activity_type = 'CW' /*counter withdrawal*/
 and _u_ind_002 = 'A' /*Approved*/
 and tca_reversal_ind = 'N')
  )
and datepart(_m_withdrawal_dt_2) = rqo_tran_date
and datepart(_m_withdrawal_dt_3) = rqo_tran_date
and dhms(rqo_tran_date,0,0,rqo_tran_time) - _M_HIGH_POSTING_DT < dhms(1,0,0,0)
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[High Value Posting in merchant account followed by withdrawals from the account (ATM/Branch)]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[M]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="B"/><component componentField="smh_cust_type" componentValue="I"/><component componentField="smh_acct_type" componentValue="CS"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_authenticate_mtd" componentValue="UK"/><component componentField="smh_channel_type" componentValue="C"/><component componentField="smh_channel_type" componentValue="D"/><component componentField="smh_channel_type" componentValue="E"/><component componentField="smh_channel_type" componentValue="H"/><component componentField="smh_activity_type" componentValue="CA"/><component componentField="smh_activity_type" componentValue="CW"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DNS"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DPD"/><component componentField="smh_activity_detail1" componentValue="DUA"/><VariableList><Variable FieldBusinessName="_m_withdrawal_dt_1" FieldName="v01_num_05440_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_high_posting_dt" FieldName="v01_num_06208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_withdrawal_dt_2" FieldName="v01_num_05448_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_withdrawal_dt_3" FieldName="v01_num_05456_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_u_ind_002" FieldName="rua_ind_002" InitialValue="" FieldDesc="Indicator/flag field" FieldLength="1" VariableType="Character" SegmentKeyFieldNames="" SegmentKeyFieldBusinessNames="" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60218" baseRuleId="60218" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[High Volume of transactions after Dormancy]]></name><code><![CDATA[/* Array storing volume of transactions for the merchant for last 30 days(including current day)*/
%DeclareArray(&rule.daily_vol_array, _M_DAILY_NUMBER_2 - _M_DAILY_NUMBER_31);

&rule.txn_history = sum(&&&rule.daily_vol_array);

if tcm_reversal_ind = 'N'
and &rule.txn_history = 0 /* no txns in last 30 days */
and _M_DAILY_NUMBER_1 > 100
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[High volume of transactions in a short period made when an account has been dormant]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_number_1" FieldName="v01_num_00000_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_2" FieldName="v01_num_00008_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_3" FieldName="v01_num_00016_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_4" FieldName="v01_num_00024_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_5" FieldName="v01_num_00032_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_6" FieldName="v01_num_00040_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_7" FieldName="v01_num_00048_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_8" FieldName="v01_num_00056_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_9" FieldName="v01_num_00064_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_10" FieldName="v01_num_00072_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_11" FieldName="v01_num_00080_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_12" FieldName="v01_num_00088_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_13" FieldName="v01_num_00096_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_14" FieldName="v01_num_00104_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_15" FieldName="v01_num_00112_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_16" FieldName="v01_num_00120_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_17" FieldName="v01_num_00128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_18" FieldName="v01_num_00136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_19" FieldName="v01_num_00144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_20" FieldName="v01_num_00152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_21" FieldName="v01_num_00160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_22" FieldName="v01_num_00168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_23" FieldName="v01_num_00176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_24" FieldName="v01_num_00184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_25" FieldName="v01_num_00192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_26" FieldName="v01_num_00200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_27" FieldName="v01_num_00208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_28" FieldName="v01_num_00216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_29" FieldName="v01_num_00224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_30" FieldName="v01_num_00232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_number_31" FieldName="v01_num_00240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60219" baseRuleId="60219" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[High Volume of Declined Purchases]]></name><code><![CDATA[/* Array storing volume of declined purchase authorisations for the merchant for last 30 days(not including current day)*/
%DeclareArray(&rule.daily_vol_array,_M_DAILY_PURCH_D_VOL_2 - _M_DAILY_PURCH_D_VOL_31);


&rule.dec_vol_ave = sum(&&&rule.daily_vol_array)/30;

if tcm_reversal_ind = 'N'
and _u_ind_002 = 'D' /*Declined*/
and _M_DAILY_PURCH_D_VOL_1 > 2*&rule.dec_vol_ave
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[The total volume of declined purchases in a day is higher than the daily average]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_purch_d_vol_16" FieldName="v01_num_05256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_17" FieldName="v01_num_05264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_18" FieldName="v01_num_05272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_19" FieldName="v01_num_05280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_20" FieldName="v01_num_05288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_21" FieldName="v01_num_05296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_22" FieldName="v01_num_05304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_23" FieldName="v01_num_05312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_24" FieldName="v01_num_05320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_25" FieldName="v01_num_05328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_26" FieldName="v01_num_05336_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_27" FieldName="v01_num_05344_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_28" FieldName="v01_num_05352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_29" FieldName="v01_num_05360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_30" FieldName="v01_num_05368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_31" FieldName="v01_num_05376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_1" FieldName="v01_num_05392_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_2" FieldName="v01_num_05400_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_3" FieldName="v01_num_05408_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_4" FieldName="v01_num_05416_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_5" FieldName="v01_num_05424_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_6" FieldName="v01_num_05432_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_u_ind_002" FieldName="rua_ind_002" InitialValue="" FieldDesc="Indicator/flag field" FieldLength="1" VariableType="Character" SegmentKeyFieldNames="" SegmentKeyFieldBusinessNames="" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_7" FieldName="v01_num_05184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_8" FieldName="v01_num_05192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_9" FieldName="v01_num_05200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_10" FieldName="v01_num_05208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_11" FieldName="v01_num_05216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_12" FieldName="v01_num_05224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_13" FieldName="v01_num_05232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_14" FieldName="v01_num_05240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_d_vol_15" FieldName="v01_num_05248_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60220" baseRuleId="60220" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[High Volume of Tester Purchase Authorisations]]></name><code><![CDATA[/* Array storing volume of purchase authorisations for the merchant for last 30 days(not including current day)*/
%DeclareArray(&rule.daily_vol_array,_M_DAILY_PURCH_VOL_2 - _M_DAILY_PURCH_VOL_31);

&rule.daily_ave = sum(&&&rule.daily_vol_array)/30;

if tcm_reversal_ind = 'N'
/* and _u_ind_002  = 'A' /*Approved*/
and tcm_mer_amt < 1
and _M_TESTER_COUNT > 100
and _M_TESTER_COUNT > 0.5*&rule.daily_ave
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[The number of daily purchase authorisations which are very low value are greater than a certain number or a large percentage of the average number of daily purchases.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_purch_vol_5" FieldName="v01_num_02376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_6" FieldName="v01_num_02128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_7" FieldName="v01_num_02136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_8" FieldName="v01_num_02144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_9" FieldName="v01_num_02152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_10" FieldName="v01_num_02160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_11" FieldName="v01_num_02168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_12" FieldName="v01_num_02176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_13" FieldName="v01_num_02184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_14" FieldName="v01_num_02192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_15" FieldName="v01_num_02200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_16" FieldName="v01_num_02208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_17" FieldName="v01_num_02216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_18" FieldName="v01_num_02224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_19" FieldName="v01_num_02232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_20" FieldName="v01_num_02240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_21" FieldName="v01_num_02248_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_22" FieldName="v01_num_02256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_23" FieldName="v01_num_02264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_24" FieldName="v01_num_02272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_25" FieldName="v01_num_02280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_26" FieldName="v01_num_02288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_27" FieldName="v01_num_02296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_28" FieldName="v01_num_02304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_tester_count" FieldName="v01_num_06216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_29" FieldName="v01_num_02312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_30" FieldName="v01_num_02320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_31" FieldName="v01_num_02328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_2" FieldName="v01_num_02352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_3" FieldName="v01_num_02360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_4" FieldName="v01_num_02368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60221" baseRuleId="60221" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Unusual Value of Overseas Card Purchases - New Merchant]]></name><code><![CDATA[/* Array storing amount of domestic card purchase authorisations at a merchant daily for last 30 days (not including current day)*/
%DeclareArray(&rule.daily_amt_array,_M_DAILY_DOM_AMT_2 - _M_DAILY_DOM_AMT_31);

&rule.BIN = substr(hqm_payment_method,1,6);
&rule.daily_dom_ave = sum(&&&rule.daily_amt_array)/30;

if tcm_reversal_ind ='N'
/*and _u_ind_002 = 'A' /*Approved*/
and not %ListContains(domestic_bins,&rule.bin) /*overseas card*/
and _M_OS_AMT > &rule.daily_dom_ave
and rqo_tran_date - input(_u_8byte_string_001,date9.)  < dhms(30,0,0,0) /*_u_8byte_string_001 - account open date*/
then do;
%Action_Decline;
%Action_alert;
end;]]></code><desc><![CDATA[Total value of overseas card purchase authorisations in a day is larger than the average daily total value of domestic card purchases for a recently opened merchant]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_daily_dom_amt_8" FieldName="v01_num_06280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_9" FieldName="v01_num_06288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_10" FieldName="v01_num_06296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_11" FieldName="v01_num_06304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_12" FieldName="v01_num_06312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_13" FieldName="v01_num_06320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_14" FieldName="v01_num_06328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_15" FieldName="v01_num_06336_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_16" FieldName="v01_num_06344_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_17" FieldName="v01_num_06352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_18" FieldName="v01_num_06360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_19" FieldName="v01_num_06368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_os_amt" FieldName="v01_num_03808_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_20" FieldName="v01_num_06376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_21" FieldName="v01_num_06384_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_22" FieldName="v01_num_06392_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_23" FieldName="v01_num_06400_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_24" FieldName="v01_num_06408_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_25" FieldName="v01_num_06416_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_26" FieldName="v01_num_06424_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_u_8byte_string_001" FieldName="rua_8byte_string_001" InitialValue="" FieldDesc="8-byte string" FieldLength="8" VariableType="Character" SegmentKeyFieldNames="" SegmentKeyFieldBusinessNames="" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_27" FieldName="v01_num_06432_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_28" FieldName="v01_num_06440_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_29" FieldName="v01_num_06448_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_30" FieldName="v01_num_06456_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_31" FieldName="v01_num_06224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_2" FieldName="v01_num_06232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_3" FieldName="v01_num_06240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_4" FieldName="v01_num_06248_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_5" FieldName="v01_num_06256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_6" FieldName="v01_num_06264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_amt_7" FieldName="v01_num_06272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60222" baseRuleId="60222" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Unusual Volume of Overseas Card Purchases - New Merchant]]></name><code><![CDATA[/* Array storing volume of domestic card purchase authorisations at a merchant daily for last 30 days (not including current day)*/
%DeclareArray(&rule.daily_vol_array,_M_DAILY_DOM_VOL_2 - _M_DAILY_DOM_VOL_31);

&rule.BIN = substr(hqm_payment_method,1,6);
&rule.daily_dom_ave = sum(&&&rule.daily_vol_array)/30;

if tcm_reversal_ind ='N'
/*and _u_ind_002 = 'A' /*Approved*/
and not %ListContains(domestic_bins,&rule.bin) /*overseas card*/
and _M_OS_COUNT > &rule.daily_dom_ave
and rqo_tran_date - input(_u_8byte_string_001,date9.)  < dhms(30,0,0,0) /*_u_8byte_string_001 - account open date*/
then do;
%Action_Decline;
%Action_alert;
end;]]></code><desc><![CDATA[Total volume of overseas card purchase authorisations in a day is larger than the average daily total volume of domestic card purchases for a recently opened merchant]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_m_os_count" FieldName="v01_num_03800_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_u_8byte_string_001" FieldName="rua_8byte_string_001" InitialValue="" FieldDesc="8-byte string" FieldLength="8" VariableType="Character" SegmentKeyFieldNames="" SegmentKeyFieldBusinessNames="" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_2" FieldName="v01_num_05472_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_3" FieldName="v01_num_05480_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_4" FieldName="v01_num_05488_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_5" FieldName="v01_num_05496_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_6" FieldName="v01_num_05504_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_7" FieldName="v01_num_05512_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_8" FieldName="v01_num_05520_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_9" FieldName="v01_num_05528_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_10" FieldName="v01_num_05536_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_11" FieldName="v01_num_05544_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_12" FieldName="v01_num_05552_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_13" FieldName="v01_num_05560_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_14" FieldName="v01_num_05568_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_15" FieldName="v01_num_05576_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_16" FieldName="v01_num_05584_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_17" FieldName="v01_num_05592_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_18" FieldName="v01_num_05600_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_19" FieldName="v01_num_05608_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_20" FieldName="v01_num_05616_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_21" FieldName="v01_num_05624_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_22" FieldName="v01_num_05632_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_23" FieldName="v01_num_05640_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_24" FieldName="v01_num_05648_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_25" FieldName="v01_num_05656_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_26" FieldName="v01_num_05664_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_27" FieldName="v01_num_05672_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_28" FieldName="v01_num_05680_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_29" FieldName="v01_num_05688_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_30" FieldName="v01_num_05696_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_dom_vol_31" FieldName="v01_num_05704_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60223" baseRuleId="60223" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="Collusive Employee" executionOrderType="0"><name><![CDATA[Postings GT Purchase Transactions - Daily Volume]]></name><code><![CDATA[/* Array storing volume of purchase authorisations for the merchant for the last 30 days(including current day)*/
%DeclareArray(&rule.daily_vol_array, _M_DAILY_PURCH_VOL_2 - _M_DAILY_PURCH_VOL_31);

&rule.ave_purch_vol = sum(&&&rule.daily_vol_array)/30;

if _M_DAILY_POST_VOL_1 > 3*&rule.ave_purch_vol
then do;
%Action_decline;
%Action_alert;
end;]]></code><desc><![CDATA[Count of merchant postings is high compared to the merchant average daily purchase transactions.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[M]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="B"/><component componentField="smh_cust_type" componentValue="I"/><component componentField="smh_acct_type" componentValue="CS"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="C"/><component componentField="smh_channel_type" componentValue="D"/><component componentField="smh_channel_type" componentValue="E"/><component componentField="smh_activity_type" componentValue="CP"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DPD"/><component componentField="smh_activity_detail1" componentValue="DUA"/><VariableList><Variable FieldBusinessName="_m_daily_purch_vol_5" FieldName="v01_num_02376_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_post_vol_1" FieldName="v01_num_03408_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_6" FieldName="v01_num_02128_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_7" FieldName="v01_num_02136_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_8" FieldName="v01_num_02144_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_9" FieldName="v01_num_02152_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_10" FieldName="v01_num_02160_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_11" FieldName="v01_num_02168_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_12" FieldName="v01_num_02176_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_13" FieldName="v01_num_02184_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_14" FieldName="v01_num_02192_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_15" FieldName="v01_num_02200_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_16" FieldName="v01_num_02208_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_17" FieldName="v01_num_02216_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_18" FieldName="v01_num_02224_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_19" FieldName="v01_num_02232_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_20" FieldName="v01_num_02240_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_21" FieldName="v01_num_02248_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_22" FieldName="v01_num_02256_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_23" FieldName="v01_num_02264_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_24" FieldName="v01_num_02272_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_25" FieldName="v01_num_02280_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_26" FieldName="v01_num_02288_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_27" FieldName="v01_num_02296_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_28" FieldName="v01_num_02304_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_29" FieldName="v01_num_02312_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_30" FieldName="v01_num_02320_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_31" FieldName="v01_num_02328_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_2" FieldName="v01_num_02352_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_3" FieldName="v01_num_02360_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_m_daily_purch_vol_4" FieldName="v01_num_02368_008" InitialValue="0" FieldDesc="Variable in MERCHANT" FieldLength="8" VariableType="Numeric" SegmentKeyFieldNames="dua_80byte_string_001" SegmentKeyFieldBusinessNames="dua_80byte_string_001" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule><Rule ruleId="60225" baseRuleId="60225" version="1" type="Authorization" multiOrgKey="A" multiOrgName="WORLD BANK" workflow="Testing" queue="BF - Suspect Merchants" executionOrderType="0"><name><![CDATA[High Volume of Cash Withdrawals - Same BIN]]></name><code><![CDATA[if ucm_card_present = '0' /*card present*/
and aqm_mer_mcc = '6011' /*ATM*/
and tcm_reversal_ind = 'N'
then do;

  if
     /* each transaction is made with a different card*/
     (
      COMPRESS(hqm_payment_id) ne COMPRESS(_t_ATM_Card_2)
      and COMPRESS(hqm_payment_id) ne COMPRESS(_t_ATM_Card_3)
      and COMPRESS(hqm_payment_id) ne COMPRESS(_t_ATM_Card_4)
      and COMPRESS(hqm_payment_id) ne COMPRESS(_t_ATM_Card_5)
      and COMPRESS(_t_ATM_Card_2) ne COMPRESS(_t_ATM_Card_3)
      and COMPRESS(_t_ATM_Card_2) ne COMPRESS(_t_ATM_Card_4)
      and COMPRESS(_t_ATM_Card_2) ne COMPRESS(_t_ATM_Card_5)
      and COMPRESS(_t_ATM_Card_3) ne COMPRESS(_t_ATM_Card_4)
      and COMPRESS(_t_ATM_Card_3) ne COMPRESS(_t_ATM_Card_5)
      and COMPRESS(_t_ATM_Card_4) ne COMPRESS(_t_ATM_Card_5)
      )

/*Card range is the same for all transactions*/

  and substr(hqm_payment_id,1,12) = SUBSTR(_t_ATM_Card_2,1,12)
  and substr(hqm_payment_id,1,12) = SUBSTR(_t_ATM_Card_3,1,12)
  and substr(hqm_payment_id,1,12) = SUBSTR(_t_ATM_Card_4,1,12)
  and substr(hqm_payment_id,1,12) = SUBSTR(_t_ATM_Card_5,1,12)


/*DateTime is within 1 minute*/
 and dhms(rqo_tran_date,0,0,rqo_tran_time)
          - _t_ATM_Date_Time_5 <= hms(0,1,0)

  then do;
  %Action_decline;
  %Action_Alert;
  end;
end;]]></code><desc><![CDATA[High volume of cash withdrawals (approved or unapproved) on cards from the same BIN at an ATM in a short period of time.]]></desc><alertReason><![CDATA[ ]]></alertReason><alertType><![CDATA[B]]></alertType><component componentField="smh_tran_type" componentValue="TRX"/><component componentField="smh_cust_type" componentValue="N"/><component componentField="smh_acct_type" componentValue="MA"/><component componentField="smh_authenticate_mtd" componentValue="CP"/><component componentField="smh_authenticate_mtd" componentValue="CD"/><component componentField="smh_authenticate_mtd" componentValue="NC"/><component componentField="smh_channel_type" componentValue="T"/><component componentField="smh_channel_type" componentValue="S"/><component componentField="smh_activity_type" componentValue="FM"/><component componentField="smh_activity_detail1" componentValue="NAP"/><component componentField="smh_activity_detail1" componentValue="DMX"/><component componentField="smh_activity_detail1" componentValue="DEE"/><component componentField="smh_activity_detail1" componentValue="DUA"/><component componentField="smh_activity_detail1" componentValue="DUS"/><VariableList><Variable FieldBusinessName="_t_atm_card_4" FieldName="v06_str_01016_080" InitialValue="" FieldDesc="Variable in Terminal" FieldLength="80" VariableType="Character" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_atm_card_5" FieldName="v06_str_01096_080" InitialValue="" FieldDesc="Variable in Terminal" FieldLength="80" VariableType="Character" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_atm_date_time_5" FieldName="v06_num_01208_008" InitialValue="0" FieldDesc="Variable in Terminal" FieldLength="8" VariableType="DateTime" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_atm_card_2" FieldName="v06_str_00856_080" InitialValue="" FieldDesc="Variable in Terminal" FieldLength="80" VariableType="Character" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/><Variable FieldBusinessName="_t_atm_card_3" FieldName="v06_str_00936_080" InitialValue="" FieldDesc="Variable in Terminal" FieldLength="80" VariableType="Character" SegmentKeyFieldNames="dua_80byte_string_002" SegmentKeyFieldBusinessNames="dua_80byte_string_002" SegmentKeyFieldName="***MULTIPLE_KEYS***" SegmentKeyFieldBusinessName="***MULTIPLE_KEYS***"/></VariableList></Rule></RuleList>
